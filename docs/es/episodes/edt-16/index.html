<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- T√≠tulo de la P√°gina Din√°mica -->
        <title>Adoptando la Transformaci√≥n Digital</title>

        <!-- Meta Descripci√≥n para SEO -->
        <meta name="description" content="&lt;p&gt;En este episodio, Darren habla sobre c√≥mo disminuir la congesti√≥n de ingesti√≥n utilizando la Memoria Persistente Optane DC de Intel, y el experimento que realiz√≥ con resultados sorprendentes. Podr√≠a cambiar la forma en que pensamos sobre la programaci√≥n en el futuro.&lt;/p&gt;
">

        <!-- Palabras Clave para SEO -->
        <meta name="keywords" content="podcast, ia, computaci√≥n en el borde, ciberseguridad, transformaci√≥n digital">

        <!-- Meta del Autor -->
        <meta name="author" content="Darren W Pulsipher">

        <!-- Etiquetas Meta de Open Graph para Redes Sociales -->
        <meta property="og:title" content="Adoptando la Transformaci√≥n Digital">
        <meta property="og:description" content="&lt;p&gt;En este episodio, Darren habla sobre c√≥mo disminuir la congesti√≥n de ingesti√≥n utilizando la Memoria Persistente Optane DC de Intel, y el experimento que realiz√≥ con resultados sorprendentes. Podr√≠a cambiar la forma en que pensamos sobre la programaci√≥n en el futuro.&lt;/p&gt;
">
        <meta property="og:image" content="thumbnail.png">

        <meta property="og:url" content="https://embracingdigital.org">
        <meta property="og:type" content="website">

        <!-- Etiquetas Meta de Twitter Card -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Adoptando la Transformaci√≥n Digital">
        <meta name="twitter:description" content="&lt;p&gt;En este episodio, Darren habla sobre c√≥mo disminuir la congesti√≥n de ingesti√≥n utilizando la Memoria Persistente Optane DC de Intel, y el experimento que realiz√≥ con resultados sorprendentes. Podr√≠a cambiar la forma en que pensamos sobre la programaci√≥n en el futuro.&lt;/p&gt;
">
        <meta name="twitter:image" content="thumbnail.png">

    <title>Adoptando la Transformaci√≥n Digital</title>

    <link rel="stylesheet" href="../../../css/styles.css">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-P4XHVE79DL"></script>
    <script> window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'G-P4XHVE79DL'); </script>
</head>
<body>

<!-- üåç Barra de Navegaci√≥n -->
<header>
    <div class="logo-container">
        <img src="../../../images/logo.png" alt="Abrazando la Transformaci√≥n Digital" class="site-icon">
    </div>
    <nav>
        <ul>
            <li><a href="../../../es/home/index.html">Inicio</a></li>
            <li><a href="../../../es/about.html">Acerca de</a></li>
            <li><a href="../../../es/episodes/index.html">Entrevistas</a></li>
            <li><a href="../../../es/briefs/index.html">Noticias</a></li>
            <li><a href="../../../es/community.html">Comunidad</a></li>
            <li><a href="../../../es/guests/index.html">Invitados</a></li>
            <li><a href="https://6704f0-2.myshopify.com/">Tienda</a></li>
            <li><a href="../../../es/search.html">Buscar</a></li>
            <li class="dropdown">
                <a href="#">Idiomas</a>
                <ul class="dropdown-menu">
                    <li><a href="../../../ar/home/index.html">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</a></li> <!-- √Årabe -->
                    <li><a href="../../../de/home/index.html">Deutsch</a></li> <!-- Alem√°n -->
                    <li><a href="../../../es/home/index.html">Espa√±ol</a></li> <!-- Espa√±ol -->
                    <li><a href="../../../fr/home/index.html">Fran√ßais</a></li> <!-- Franc√©s -->
                    <li><a href="../../../it/home/index.html">Italiano</a></li> <!-- Italiano -->
                    <li><a href="../../../pt/home/index.html">Portugu√™s</a></li> <!-- Portugu√©s -->
                    <li><a href="../../../ja/home/index.html">Êó•Êú¨Ë™û</a></li> <!-- Japon√©s -->
                </ul>
            </li>
        </ul>
    </nav>
</header>
<section id="one-episode">
    <h1 id="episode-title">#16 Reducci√≥n de la congesti√≥n de ingesti√≥n con Intel Optane DCPMM</h1>
    <div class="episode-container">
        <!-- YouTube Video Section -->
        <div class="video-container">
            <iframe width="auto" height="auto" src="https://www.youtube.com/embed/url?autoplay=1" title="Episode Playback"></iframe>
        </div>

        <!-- Podcast Audio Section -->
        <div class="podcast-container">
            <iframe width="100%" height="180" frameborder="no" scrolling="no" seamless="" src="https://share.transistor.fm/e/7ca179aa"></iframe>
        </div>
        <div class="show-summary">
            <p><p>En este episodio, Darren habla sobre c√≥mo disminuir la congesti√≥n de ingesti√≥n utilizando la Memoria Persistente Optane DC de Intel, y el experimento que realiz√≥ con resultados sorprendentes. Podr√≠a cambiar la forma en que pensamos sobre la programaci√≥n en el futuro.</p>
</p>

            <!-- Tags Section -->
            <div class="tags">
                
                    <a href="../../../es/search.html?query=datamanagement"><span>datamanagement</span></a>
                
                    <a href="../../../es/search.html?query=analytics"><span>analytics</span></a>
                
                    <a href="../../../es/search.html?query=multicloud"><span>multicloud</span></a>
                
                    <a href="../../../es/search.html?query=process"><span>process</span></a>
                
                    <a href="../../../es/search.html?query=technology"><span>technology</span></a>
                
            </div>

            <!-- Guests Section -->
            <div class="guests">
                
                <a href="../../../es/guests/darren-w-pulsipher/index.html" target="_blank">Darren W Pulsipher</a>
            </div>
        </div>

        <!-- Show Notes Section -->
        <div class="show-notes">
            <h2>Detalles del Stack de Servicios</h2>
<p>Un cliente en la industria automotriz estaba teniendo dificultades para obtener informaci√≥n de manera efectiva de sus autom√≥viles y llevarla a su centro de datos para poder realizar aprendizaje autom√°tico y an√°lisis. Ha habido investigaciones en esta √°rea, pero solo para un peque√±o n√∫mero de autom√≥viles, no para los cien millones de autom√≥viles del cliente. Cuando examin√© su pila de servicios completa y c√≥mo todo estaba llegando al centro de datos, la ingesta de datos se convirti√≥ en el problema claro: ¬øC√≥mo puedo ingerir tanta data y hacerlo r√°pidamente?</p>
<h2>Descripci√≥n general de la arquitectura de alto nivel de Kafka</h2>
<p>El cliente quer√≠a utilizar Kafka para su ingesti√≥n. Kafka es un broker que puede escalar bien, y la clave est√° en que puede manejar varios productores, diferentes consumidores y una gran cantidad de datos. Utilizar varios brokers de Kafka para colocar y recibir datos en los lugares m√°s apropiados ofrece una gran flexibilidad.</p>
<p>Kafka, sin embargo, fue principalmente dise√±ado para tama√±os de mensaje de alrededor de uno a 10 kilobytes y los datos del cliente eran aproximadamente 240 kilobytes por autom√≥vil. Hay soluciones alternativas, pero quer√≠a llevar el mensaje completo de 240 kilobytes al bus de Kafka para poder moverlo como necesitara.</p>
<h2>Pr√°cticas recomendadas para obtener el mejor rendimiento.</h2>
<p>Mir√© las mejores pr√°cticas de rendimiento de otros que trabajan con Kafka para ver si pod√≠a adaptarlo a mi cliente. Aumentar el tama√±o del b√∫fer para acomodar todo el mensaje es una soluci√≥n de ajuste fino, junto con gestionar el tama√±o del lote para un rendimiento √≥ptimo. Otra pr√°ctica exitosa es distribuir los registros. La flexibilidad de Kafka me permitir√≠a colocar los datos en diferentes temas. Puedo dividir los temas en varias particiones que puedo distribuir en m√∫ltiples unidades. Entonces, la pregunta es, ¬øen cu√°ntas unidades estoy distribuyendo los registros de Kafka? Adem√°s, quiero las unidades m√°s r√°pidas posibles.</p>
<p>Un ejemplo que examin√© fue LinkedIn. Sus n√∫meros publicados de hace un a√±o indican que pueden manejar 13 millones de mensajes por segundo, o 2.7 gigabytes por segundo. Afirman tener alrededor de 1,100 brokers de Kafka y m√°s de 60 en un cl√∫ster, por lo que esa es una configuraci√≥n bastante grande.</p>
<h2>Espacio Automotriz</h2>
<p>Si observo los n√∫meros brutos del cliente (1.6 millones de mensajes por segundo y 800 gigabytes por segundo) y los comparo con LinkedIn, que probablemente no est√° optimizado para 240 kilobytes, obtengo 44,000 intermediarios. Si lo optimizara, probablemente podr√≠a reducirlo a 4,400 intermediarios, que todav√≠a son 240 grupos. Eso es una cantidad enorme de m√°quinas, as√≠ que tuve que encontrar una forma de hacer las cosas m√°s r√°pidas. Con m√°s optimizaci√≥n, probablemente podr√≠a reducirlo a 400 a 500 intermediarios, pero quer√≠a ver qu√© m√°s pod√≠a hacer.</p>
<h2>Memoria Persistente Intel Optane DC</h2>
<p>Mir√© nuestra Memoria Persistente Optane. Encaja en un formato DDR4, por lo que se ubica directamente en el bus DDR4. Llega hasta m√≥dulos de 512 gigabytes, por lo que en un servidor de dos sockets puedo tener seis terabytes de memoria persistente. Quer√≠a encontrar una manera de aprovechar esta tecnolog√≠a altamente confiable con caracter√≠sticas excelentes como encriptaci√≥n de hardware incorporada para ayudarme a resolver este problema.</p>
<h2>Apoyo para una amplia variedad de aplicaciones</h2>
<p>Hay dos modos de operaci√≥n con esta Memoria Optane: el modo de aplicaci√≥n directa y el modo de memoria. El modo de memoria es simple. Utiliza la memoria persistente como RAM normal porque es m√°s barata que la DDR4 normal. No es lo mismo que la DDR4, pero es lo suficientemente similar como para que en la mayor√≠a de las aplicaciones no se note ninguna diferencia. En el modo de aplicaci√≥n directa, realmente puedes escribir desde tu programa directamente en la memoria persistente. De esta manera, no tengo que convertir y desconvertir estructuras de datos ni transmitirlas; simplemente puedo guardarlas en la memoria persistente. Tambi√©n puedo montar el modo de aplicaci√≥n directa como un sistema de archivos para que est√© en el bus de memoria, lo cual es mucho m√°s r√°pido que en el bus de E/S. Ahora, ¬øqu√© puedo hacer con esta memoria?</p>
<h2>Usando el n√∫cleo de Linux</h2>
<p>Hay dos herramientas principales disponibles utilizando el kernel de Linux: ndctl e ipmctl. Ndctl es un controlador de dispositivos de memoria no vol√°til, y luego est√° IPM, el controlador de memoria persistente de Intel, que me permite manipular y controlar esta memoria persistente. Puedo configurarlo en modo de memoria o modo de aplicaci√≥n directa. Tuve un poco que aprender sobre estas herramientas y c√≥mo funcionan.</p>
<h2>Enfoque de Ingesti√≥n</h2>
<p>Mi primer pensamiento fue que si le daba a Kafka mucha m√°s memoria con tama√±os de b√∫fer grandes, deber√≠a funcionar mucho m√°s r√°pido. Los cambios de c√≥digo en la configuraci√≥n ser√≠an innecesarios o m√≠nimos. Otra opci√≥n era cambiar Kafka para que escribiera en memoria persistente en lugar de escribir en un sistema de archivos, evitando el disco duro. Lo √∫ltimo en lo que me fij√© fue en crear un sistema de archivos persistente utilizando memoria persistente y luego poner los registros de Kafka en este nuevo sistema de archivos.</p>
<p>La opci√≥n m√°s f√°cil de las tres fue la primera: m√°s memoria. Ejecut√© todas mis tareas con m√°s memoria y no hubo ning√∫n cambio en el rendimiento. La raz√≥n es porque eventualmente mis buffers se llenaron y tuve que enviarlos a un disco. Al final, todo ten√≠a que ir a los registros de Kafka, que era mi cuello de botella.</p>
<p>La segunda opci√≥n implica reescribir c√≥digo y esperar a recibir aprobaciones, as√≠ que pas√© a la tercera opci√≥n. Los resultados de este experimento donde apunt√© los registros a este nuevo sistema de archivos ultrarr√°pido fueron fascinantes. Echemos un vistazo al proceso y los resultados.</p>
<h2>Restricciones de prueba</h2>
<p>Para eliminar obst√°culos para probar el rendimiento, elimin√© la red de la ecuaci√≥n al ejecutar mi prueba en la misma m√°quina en la que se encontraba mi agente de bolsa. Adem√°s, solo ejecut√© productores, luego solo consumidores y luego una combinaci√≥n de ambos, para poder evaluar las diferencias. Mi objetivo no era analizar la mejora total de la producci√≥n, sino examinar a nivel individual si este impulso realmente marcar√≠a la diferencia en un agente de bolsa.</p>
<h2>Primer Enfoque 50/50</h2>
<p>Lo primero que hice fue tomar la mitad de mi memoria persistente y ponerla en modo de acceso directo a aplicaciones, convirti√©ndola en un sistema de archivos. Dej√© la otra mitad como memoria. Utilic√© los comandos ndctl e ipmctl y cre√© espacios de nombres. Mont√© estos sistemas de archivos y ejecut√© mi prueba.</p>
<h2>Cambiando el tama√±o del mensaje</h2>
<p>Ejecut√© las pruebas con varios tama√±os de mensaje diferentes. Esperaba cierta optimizaci√≥n, principalmente para 1 kilobyte. Vi que obten√≠a un rendimiento cada vez m√°s √≥ptimo hasta aproximadamente 10 productores. Despu√©s de los 10 productores, empec√© a saturar el bus y obtener cierta variabilidad. Eso me dice que estaba almacenando en cach√© las cosas. Ahora puedo comparar estos n√∫meros con los que obtuve anteriormente solo con una unidad SATA para los registros de Kafka. Tambi√©n prob√© nuestras unidades Optane NVMe para los registros.</p>
<h2>Comparaci√≥n tecnol√≥gica</h2>
<p>Echemos un vistazo a las diferencias. Para 240 kilobytes, con un disco SATA normal, es bastante plano. Obtuve cierta mejora y luego disminuy√≥ a medida que aumentaba el n√∫mero de productores. Con el disco Optane NVMe, obtuve un pico muy agradable, casi dos veces m√°s r√°pido que un disco SATA, lo cual es lo que esperaba porque es un bus NVMe en lugar de un bus SATA. El Pmem es casi cinco veces m√°s r√°pido que un disco SATA y dos veces y media m√°s r√°pido que el disco Optane NVMe. Eso se debe a que estoy usando un bus de memoria en lugar del bus SATA o NVMe.</p>
<h2>Optimizaci√≥n adicional (100% directo a la aplicaci√≥n)</h2>
<p>Esto estaba corriendo r√°pido y estaba llenando r√°pidamente este disco temporal de 750 GB. Como necesitaba ejecutar la prueba un poco m√°s tiempo, volv√≠ y reconfigur√© mi m√°quina para que funcione al 100 por ciento en modo de aplicaci√≥n directa, de manera que ahora pod√≠a tomar los 1.5 terabytes completos.</p>
<h2>Optimizado PMEM y 100% App Direct</h2>
<p>Despu√©s de hacer esto y ejecutar las mismas pruebas, obtuve un resultado sorprendente. Pude agregar m√°s productores y mi rendimiento aument√≥ casi dos o tres veces m√°s. Ahora es entre 12 y 15 veces m√°s r√°pido que una unidad SATA con 25-30 productores y un tama√±o de mensaje de 240 kilobytes. Esto es incre√≠ble y reducir√≠a en gran medida la necesidad de tantos brokers, filas y filas de m√°quinas por parte de mis clientes. Realic√© la prueba varias veces porque no cre√≠a los resultados que obten√≠a. Llam√© a uno de nuestros arquitectos que dise√±aron esta tecnolog√≠a y aprend√≠ que una de las razones de la velocidad aumentada era que, cuando estaba utilizando parte de la memoria persistente como memoria, los datos ten√≠an que pasar por dos o tres saltos que no son necesarios con el modo de acceso directo de la aplicaci√≥n. Esto crea menos conflictos en el bus de memoria, y el rendimiento aument√≥ dr√°sticamente.</p>
<h2>Llamado a la Acci√≥n</h2>
<p>El resultado final es que pude utilizar Kafka con Optane DC Persistent Memory como un sistema de archivos ultrarr√°pido para obtener importantes mejoras en el rendimiento tanto en los productores como en los consumidores. Un solo intermediario puede manejar 15 veces m√°s mensajes y rendimiento que antes, disminuyendo el n√∫mero de servidores necesarios para manejar arquitecturas de sistemas grandes y complejas. Es hora de evaluar tu arquitectura actual y ver si esto beneficiar√≠a a tu organizaci√≥n.</p>

        </div>
    </div>
</section>
<footer id="footer">
    <div class="footer-content">
        <p>Copyright &copy; 2025 Paidar Productions LLC</p>
        <p>Todos los derechos reservados</p>
    </div>
</footer>
