<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Título de página dinámico -->
    <title>Programación heterogénea con OneAPI | Embracing Digital Transformation</title>

    <!-- SEO -->
    <link rel="canonical" href="https://www.embracingdigital.org/es/episodes/edt-81/index.html">
    <meta name="description" content="Darren Pulsipher, Arquitecto Principal de Soluciones de Intel, discute las capacidades y el futuro de OneAPI, un modelo de programación unificado basado en estándares y abierto para diferentes industrias que ofrece una experiencia de desarrollo común en diversas arquitecturas de aceleradores, con Ja">
    <meta name="keywords" content="Transformación Digital, pódcast, entrevistas, noticias, IA, ciberseguridad, edge computing, gestión de datos">
    <meta name="author" content="Dr. Darren W. Pulsipher">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Programación heterogénea con OneAPI | Embracing Digital Transformation — Entrevistas, Noticias y Comunidad">
    <meta property="og:description" content="Darren Pulsipher, Arquitecto Principal de Soluciones de Intel, discute las capacidades y el futuro de OneAPI, un modelo de programación unificado basado en estándares y abierto para diferentes industrias que ofrece una experiencia de desarrollo común en diversas arquitecturas de aceleradores, con Ja">
    <meta property="og:url" content="https://www.embracingdigital.org/es/episodes/edt-81/index.html">
    <meta property="og:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Programación heterogénea con OneAPI | Embracing Digital Transformation — Entrevistas, Noticias y Comunidad">
    <meta name="twitter:description" content="Darren Pulsipher, Arquitecto Principal de Soluciones de Intel, discute las capacidades y el futuro de OneAPI, un modelo de programación unificado basado en estándares y abierto para diferentes industrias que ofrece una experiencia de desarrollo común en diversas arquitecturas de aceleradores, con Ja">
    <meta name="twitter:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Hreflang (alternativas) -->
    <link rel="alternate" href="https://embracingdigital.org/es/home/" hreflang="es">
    <link rel="alternate" href="https://embracingdigital.org/de/home/" hreflang="de">
    <link rel="alternate" href="https://embracingdigital.org/fr/home/" hreflang="fr">
    <link rel="alternate" href="https://embracingdigital.org/it/home/" hreflang="it">
    <link rel="alternate" href="https://embracingdigital.org/pt/home/" hreflang="pt">
    <link rel="alternate" href="https://embracingdigital.org/ar/home/" hreflang="ar">
    <link rel="alternate" href="https://embracingdigital.org/ja/home/" hreflang="ja">
    <link rel="alternate" href="https://embracingdigital.org/es/home/" hreflang="x-default">

    <!-- Favicon y estilos -->
    <link rel="icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/styles.css">

    <!-- Analítica -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-P4XHVE79DL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-P4XHVE79DL');
    </script>

    <!-- Schema.org: Organization + WebSite -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Abrazando la Transformación Digital",
            "url": "https://embracingdigital.org/",
            "logo": "https://embracingdigital.org/images/logo.png",
            "sameAs": [
                "https://www.youtube.com/@embracingdigital",
                "https://www.linkedin.com/company/embracing-digital-transformation"
            ]
        }
    </script>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "name": "Abrazando la Transformación Digital",
            "url": "https://embracingdigital.org/",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://embracingdigital.org/es/search.html?query={query}",
                "query-input": "required name=query"
            }
        }
    </script>
</head>
<body>

<header role="banner">
    <!-- Logo -->
    <div class="logo-container">
        <a href="/es/home/" aria-label="Inicio — Abrazando la Transformación Digital">
            <img src="/images/logo.png" alt="Logo — Abrazando la Transformación Digital" class="site-icon">
        </a>
    </div>

    <!-- Botón móvil -->
    <button class="menu-toggle" aria-controls="primary-nav" aria-expanded="false" aria-label="Alternar menú">☰</button>

    <!-- Navegación principal -->
    <nav id="primary-nav" aria-label="Principal">
        <ul>
            <li><a href="/es/home/index.html" >Inicio</a></li>

            <li class="dropdown">
                <a href="/es/shows/index.html" aria-haspopup="true" aria-expanded="false">Programas</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none">
                        <a role="menuitem" href="/es/episodes/index.html" aria-label="Entrevistas — Abrazando la Transformación Digital">
                            Abrazando la Transformación Digital
                            <small class="nav-note">Entrevistas</small>
                        </a>
                    </li>
                    <li role="none">
                        <a role="menuitem" href="/es/briefs/index.html" aria-label="Noticias — Digital esta semana">
                            Digital esta semana
                            <small class="nav-note">Noticias</small>
                        </a>
                    </li>
                </ul>
            </li>

            <li><a href="/es/guests/index.html">Invitados</a></li>
            <li><a href="/es/articles/index.html">Artículos</a></li>

            <!-- Comunidad -->
            <li class="dropdown">
                <a href="/es/community.html" aria-haspopup="true" aria-expanded="false">Comunidad</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/es/newsletter.html">Boletín</a></li>
                    <li role="none"><a role="menuitem" href="https://www.patreon.com/embracingdigital" target="_blank" rel="noopener">Patreon</a></li>
                    <li role="none"><a role="menuitem" href="https://www.linkedin.com/company/embracing-digital-transformation" target="_blank" rel="noopener">Grupo de LinkedIn</a></li>
                </ul>
            </li>

            <li><a href="https://6704f0-2.myshopify.com/" target="_blank" rel="noopener">Tienda</a></li>

            <!-- Acerca de -->
            <li class="dropdown">
                <a href="/es/about.html" aria-haspopup="true" aria-expanded="false">Acerca de</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/es/about.html">Sobre el programa</a></li>
                    <li role="none"><a role="menuitem" href="/es/host.html">Anfitrión: Dr. Darren Pulsipher</a></li>
                    <li role="none"><a role="menuitem" href="/es/sponsors/index.html">Patrocinios y contacto</a></li>
                </ul>
            </li>

            <li><a href="/es/search.html">Buscar</a></li>

            <!-- Idiomas -->
            <li class="dropdown">
                <a href="#" aria-haspopup="true" aria-expanded="false">Idiomas</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/ar/home/index.html">العربية</a></li>
                    <li role="none"><a role="menuitem" href="/de/home/index.html">Deutsch</a></li>
                    <li role="none"><a role="menuitem" href="/en/home/index.html">English</a></li>
                    <li role="none"><a role="menuitem" href="/es/home/index.html">Español</a></li>
                    <li role="none"><a role="menuitem" href="/fr/home/index.html">Français</a></li>
                    <li role="none"><a role="menuitem" href="/it/home/index.html">Italiano</a></li>
                    <li role="none"><a role="menuitem" href="/pt/home/index.html">Português</a></li>
                    <li role="none"><a role="menuitem" href="/ja/home/index.html">日本語</a></li>
                </ul>
            </li>
        </ul>
    </nav>
</header>



<a class="skip-link" href="#main">Skip to content</a>

<nav class="breadcrumbs" aria-label="Breadcrumb">
    <ol>
        <li><a href="../../../es/home/index.html">Home</a></li>
        <li><a href="../../../es/episodes/index.html">Episodes</a></li>
        <li aria-current="page">Episode 81: Heterogeneous Programming with OneAPI</li>
    </ol>
</nav>

<main id="main" role="main">
    <article class="episode-container" itemscope itemtype="https://schema.org/PodcastEpisode">

        <header id="one-episode">
            
                <link itemprop="url" href="https://www.embracingdigital.org/es/episodes/edt-81/index.html">
                <meta itemprop="mainEntityOfPage" content="https://www.embracingdigital.org/es/episodes/edt-81/index.html"/>
            

            <h1 id="episode-title" itemprop="name">
                <span class="episode-number">Episode 81</span>
                <span class="episode-title">Heterogeneous Programming with OneAPI</span>
            </h1>

            <p class="episode-meta">
                
                    <time datetime="2022-03-24" itemprop="datePublished">2022-03-24T00:00:00.000Z</time>
                
                <span itemprop="author" itemscope itemtype="https://schema.org/Person">
          <meta itemprop="name" content="Dr. Darren Pulsipher">
          Hosted by <span class="host-name">Dr. Darren Pulsipher</span>
        </span>
            </p>

            <meta itemprop="episodeNumber" content="81"/>
            <meta itemprop="inLanguage" content="es"/>
        </header>

        
            <section class="video-container" aria-label="Watch the episode"
                     itemprop="associatedMedia" itemscope itemtype="https://schema.org/VideoObject">
                <meta itemprop="name" content="Programación heterogénea con OneAPI Video">
                <meta itemprop="embedUrl" content="https://www.youtube.com/embed/url">
                <iframe
                        width="auto"
                        height="auto"
                        src="https://www.youtube.com/embed/url"
                        title="Programación heterogénea con OneAPI Video"
                        loading="lazy"
                        referrerpolicy="strict-origin-when-cross-origin"
                        allowfullscreen
                ></iframe>
            </section>
        

        
            <section class="podcast-container" aria-label="Listen to this episode"
                     itemprop="associatedMedia" itemscope itemtype="https://schema.org/AudioObject">
                <meta itemprop="name" content="Programación heterogénea con OneAPI Audio">
                <meta itemprop="contentUrl" content="https://share.transistor.fm/e/28fb34d4">
                <iframe
                        width="100%"
                        height="180"
                        frameborder="0"
                        scrolling="no"
                        src="https://share.transistor.fm/e/28fb34d4"
                        title="Programación heterogénea con OneAPI Audio"
                        loading="lazy"
                ></iframe>

                <p class="listen-note">
                    Explore more in the <a href="../../../es/episodes/index.html">episode archive</a>.
                </p>
            </section>
        

        <section class="show-summary" aria-label="Episode summary" itemprop="description">
            <h2>Summary</h2>
            <p>Darren Pulsipher, Arquitecto Principal de Soluciones de Intel, discute las capacidades y el futuro de OneAPI, un modelo de programación unificado basado en estándares y abierto para diferentes industrias que ofrece una experiencia de desarrollo común en diversas arquitecturas de aceleradores, con Ja</p>


            
                <nav class="tags" aria-label="Tags">
                    
                        <a href="../../../es/search.html?query=oneapi"
                           itemprop="keywords">oneapi</a>
                    
                        <a href="../../../es/search.html?query=artificialintelligence"
                           itemprop="keywords">artificialintelligence</a>
                    
                        <a href="../../../es/search.html?query=highperformancecomputing"
                           itemprop="keywords">highperformancecomputing</a>
                    
                        <a href="../../../es/search.html?query=iot"
                           itemprop="keywords">iot</a>
                    
                        <a href="../../../es/search.html?query=multicloud"
                           itemprop="keywords">multicloud</a>
                    
                        <a href="../../../es/search.html?query=process"
                           itemprop="keywords">process</a>
                    
                </nav>
            

            
                <div class="guests" aria-label="Guests">
                    
                        <span itemprop="actor" itemscope itemtype="https://schema.org/Person">
              <a href="../../../es/guests/darren-w-pulsipher/index.html" itemprop="url">
                <span itemprop="name">Darren W Pulsipher</span>
              </a>
            </span>
                    
                        <span itemprop="actor" itemscope itemtype="https://schema.org/Person">
              <a href="../../../es/guests/james-reinders/index.html" itemprop="url">
                <span itemprop="name">James Reinders</span>
              </a>
            </span>
                    
                </div>
            
        </section>

        <section class="show-notes" aria-label="Show notes">
            <p>El objetivo de oneAPI es ayudar a abstraer la enorme diversidad que viene en el hardware para que los ingenieros de software puedan aprovecharlo mejor en niveles superiores y sacar el máximo provecho del hardware. James, un ingeniero de software que también trabaja estrechamente con el hardware, está encantado con lo que oneAPI puede aportar en el contexto de la computación heterogénea de tendencia.</p>
<p>La palabra heterogéneo aquí básicamente significa que hay diferentes dispositivos en un sistema que pueden realizar computación, pero no ejecutan el mismo conjunto de instrucciones. Por ejemplo, la CPU tiene una forma de ejecutar instrucciones y la GPU tiene una forma diferente. Los FPGA, otros ASIC y dispositivos especializados tienen diferentes formas de ser programados. Aprovechar todas esas distintas formas es el objetivo.</p>
<p>John Hennessy y David Patterson, líderes en el campo de la arquitectura de computadoras, llaman a esto la nueva edad de oro de la arquitectura de computadoras. Para los arquitectos de computadoras, es un momento increíble para diseñar todo tipo de dispositivos especializados que hagan cosas mejores para dominios específicos, pero para los programadores, puede ser difícil e incluso aterrador debido a la complejidad. Aquí es donde entra en juego la iniciativa oneAPI y los productos oneAPI.</p>
<p>El nombre, oneAPI, es tanto una iniciativa con una especificación como una implementación. La iniciativa es un concepto sencillo: los desarrolladores de software deberían tener la libertad de utilizar cualquier dispositivo que deseen con un rendimiento total, y su código debería preservar su valor; no deberían tener que volver a escribirlo para cada nuevo dispositivo. Estas cualidades se pueden aplicar a compiladores, bibliotecas, depuradores y cualquier tipo de herramienta.</p>
<p>Un gran número de software para implementar ciertas especificaciones ha sido liberado como software de código abierto. Gran parte de este software tiene su origen en Intel, pero también Intel lo pone a disposición en forma de herramientas descargables preconfiguradas y listas para usar, para soportar su hardware. Otros proveedores que contribuyen en la creación de partes de oneAPI tienen sus propias implementaciones, por lo que todos colaboran en las especificaciones, mientras cada uno crea su propio soporte para su hardware de forma abierta y con múltiples proveedores.</p>
<p>El objetivo principal es escribir código una vez y que se ejecute bien en cualquier lugar. Sin embargo, es un problema complejo que requerirá ajustes de rendimiento. Por ejemplo, si un algoritmo funciona bien en una GPU, se ejecutará de manera similar en casi cualquier GPU. Si cambias el algoritmo para que se ejecute en un FPGA, puedes maximizar la reutilización de tu programa, pero tienes la opción de reescribir partes del algoritmo para que se ejecute igual de bien. Es un enfoque complejo que te brinda la capacidad de aprovechar cualquier hardware con diferentes grados de reescrituras, esperemos que estén muy aisladas.</p>
<p>Puedes crear un código para diferentes dispositivos. Incluso existen enfoques de tiempo de ejecución más sofisticados que te permiten detectar lo que hay y ejecutar diferentes piezas de código, para que realmente puedas tener un código fuente común que decida dinámicamente. Puedes aplicar un programa de implementación y este puede averiguar qué hay en tu máquina y utilizarlo de manera dinámica en lugar de decirle al usuario que ejecute un archivo binario diferente según el dispositivo en el que esté.</p>
<p>Esto es emocionante porque, durante mucho tiempo, los ingenieros utilizaban una pila de software que era la mejor para su máquina. Hoy en día, quieren compilar un programa que pueda utilizar dispositivos de múltiples proveedores. El programa debe reaccionar a eso. Para que eso funcione, el compilador debe ser capaz de generar código para estos diversos dispositivos de manera confiable. Aquí es donde entra en juego la apertura.</p>
<p>Algunos argumentarán que un sistema cerrado tendrá un mejor rendimiento, ya que las bibliotecas y el lenguaje están ajustados específicamente a las capacidades del hardware. Pero la pregunta es, ¿cómo puedes obtener lo mejor de ambos mundos? Si, por ejemplo, hay una implementación específica del proveedor para una biblioteca matemática, puede haber un programa común. Una gran parte de oneAPI no consiste en tratar de reinventar todo el mundo, sino en tratar de organizarlo de manera que se aproveche lo mejor en cada plataforma posible.</p>
<p>OneAPI tiene la capacidad de mover memoria y mover datos. Diferentes modelos de programación se encuentran encima de OneAPI, y es tu elección cuánto quieres involucrarte en la gestión de la memoria. Mover datos es costoso y consume energía, así que no puedes evitarlo, pero OneAPI te brinda las herramientas para gestionarlo mediante la consulta del sistema y permitiendo que tu programa tome las decisiones correctas y dinámicas en tiempo de ejecución que te brindarán el mejor rendimiento.</p>
<p>Intel tiene décadas de experiencia en la construcción de herramientas para ayudar con la afinación y migración, y cuenta con compiladores altamente optimizados. V2 ha ayudado a evolucionar la industria en torno a los contadores de hardware en los procesadores, convirtiéndose en la norma. Hay una variedad de otras herramientas de análisis para proporcionar retroalimentación desde la estructura de su programa hasta encontrar bloqueos y aplicaciones paralelas, y para encontrar dónde es necesario agregar algunos bloqueos. Intel está poniendo todas estas herramientas disponibles de manera &quot;oneAPI&quot; para que sean más versátiles, no solo se trata de una CPU.</p>
<p>Los primeros grupos que adoptan oneAPI incluyen la computación de alto rendimiento (HPC). Con la explosión de nuevas ideas en arquitectura informática, habrá una cantidad aún mayor de diversidad e innovación en este ámbito. Los códigos grandes que pueden ayudar a resolver los mayores problemas de ingeniería del mundo, o por ejemplo, resolver problemas farmacéuticos y evaluar nuevos medicamentos, exigen hardware de última generación. Por lo tanto, este concepto de portabilidad de rendimiento se está extendiendo entre los laboratorios nacionales, las universidades y los centros de investigación.</p>
<p>El HPC de hoy son los servidores de departamento de mañana, por lo que la capacidad de utilizar diferentes equipos requiere que los ingenieros de software planifiquen y presten atención a qué tan portable es el código, ya que el código no muere rápidamente; dura décadas. En pocos años, los sistemas heterogéneos afectarán a todos, y ahora es el momento de educarse al respecto.</p>
<p>Los ingenieros de software no necesitan programar en paralelo para aprovechar oneAPI. Se trata de utilizar cosas que son abiertas y capaces de múltiples proveedores y múltiples arquitecturas. Incluso los ingenieros que están en la cima de la pila deben comprender qué hay en la pila y qué es capaz en términos de portabilidad y portabilidad de rendimiento.</p>
<p>La comunidad del Internet de las cosas (IoT) es otro grupo que ha estado a la vanguardia en la programación de múltiples dispositivos de cómputo heterogéneos y utilizando diferentes métodos para gestionarlos. Sus capacidades de cómputo siguen aumentando a medida que avanza la tecnología. Por lo tanto, oneAPI se aplica aquí y puede ayudar a formalizar o estandarizar cosas que se han innovado primero en el mundo integrado.</p>
<p>La idea de una API ha pasado de ser una idea loca de la que solo hablaban unas pocas personas, a ser cada vez más reconocida como algo razonable y solucionador de problemas en sus organizaciones.</p>
<p>El lugar más sencillo para aprender sobre la iniciativa es en el sitio web de oneapi.io. Para aprender sobre la implementación, haz clic en la pestaña de implementación para obtener un enlace que te dirija a las implementaciones de Intel. Allí, puedes descargar los diferentes kits de herramientas. Busca el Intel dev cloud para probar las herramientas en la nube de forma gratuita, incluso en hardware diferente. El sitio web de oneapi.io también cuenta con una variedad de tutoriales y recursos.</p>

        </section>

        

    </article>
</main>

<!-- Structured Data -->
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "PodcastSeries",
  "@id": "https://www.embracingdigital.org/es/episodes/index.html#series",
  "name": "Embracing Digital Transformation",
  "url": "https://www.embracingdigital.org/es/episodes/index.html",
  "inLanguage": "es",
  "description": "A podcast about the digital transformation of the world.",
  "publisher": {
    "@type": "Organization",
    "@id": "https://www.embracingdigital.org/#org",
    "name": "Embracing Digital Transformation",
    "url": "https://www.embracingdigital.org",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.embracingdigital.org/images/logo.png",
      "width": 512,
      "height": 512
    }
  }
}</script>
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "PodcastEpisode",
  "@id": "https://www.embracingdigital.org/es/episodes/edt-81/index.html#episode",
  "url": "https://www.embracingdigital.org/es/episodes/edt-81/index.html",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.embracingdigital.org/es/episodes/edt-81/index.html"
  },
  "name": "Programación heterogénea con OneAPI",
  "episodeNumber": 81,
  "datePublished": "2022-03-24",
  "inLanguage": "es",
  "description": "Darren Pulsipher, Arquitecto Principal de Soluciones de Intel, discute las capacidades y el futuro de OneAPI, un modelo de programación unificado basado en estándares y abierto para diferentes industrias que ofrece una experiencia de desarrollo común en diversas arquitecturas de aceleradores, con Ja",
  "partOfSeries": {
    "@id": "https://www.embracingdigital.org/es/episodes/index.html#series"
  },
  "author": {
    "@type": "Person",
    "name": "Dr. Darren Pulsipher"
  },
  "creator": {
    "@type": "Person",
    "name": "Dr. Darren Pulsipher"
  },
  "image": {
    "@type": "ImageObject",
    "url": "https://www.embracingdigital.org/es/episodes/edt-81/thumbnail.png"
  },
  "associatedMedia": [
    {
      "@type": "VideoObject",
      "name": "Programación heterogénea con OneAPI Video",
      "embedUrl": "https://www.youtube.com/embed/url"
    },
    {
      "@type": "AudioObject",
      "name": "Programación heterogénea con OneAPI Audio",
      "contentUrl": "https://share.transistor.fm/e/28fb34d4"
    }
  ],
  "actor": [
    {
      "@type": "Person",
      "name": "Darren W Pulsipher",
      "url": "https://www.embracingdigital.org/../../../es/guests/darren-w-pulsipher/index.html"
    },
    {
      "@type": "Person",
      "name": "James Reinders",
      "url": "https://www.embracingdigital.org/../../../es/guests/james-reinders/index.html"
    }
  ]
}</script>

<footer id="footer">
    <div class="footer-content">
        <p>Copyright &copy; 2025 Paidar Productions LLC</p>
        <p>Todos los derechos reservados</p>
    </div>
</footer>
<script>
    // year
    (function(){ var y=document.getElementById('y'); if(y){ y.textContent = new Date().getFullYear(); } })();

    // Guard for pages without nav
    const toggle = document.querySelector('.menu-toggle');
    const nav    = document.querySelector('nav#primary-nav');
    if (nav) {
        // Mobile: toggle .menu-open on <body>
        toggle?.addEventListener('click', () => {
            const open = document.body.classList.toggle('menu-open');
            toggle.setAttribute('aria-expanded', String(open));
        });

        // Dropdowns: tap/click + keyboard
        document.querySelectorAll('li.dropdown > a').forEach(link => {
            const li = link.parentElement;
            const submenu = li.querySelector('.dropdown-menu');

            link.addEventListener('click', (e) => {
                if (!submenu) return;
                e.preventDefault();

                // close others
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    if (a !== link) {
                        a.setAttribute('aria-expanded', 'false');
                        a.parentElement.classList.remove('open');
                    }
                });

                const isOpen = li.classList.toggle('open');
                link.setAttribute('aria-expanded', String(isOpen));
            });

            link.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowDown') { e.preventDefault(); submenu?.querySelector('a')?.focus(); }
                if (e.key === 'Escape')    { li.classList.remove('open'); link.setAttribute('aria-expanded','false'); link.focus(); }
            });
        });

        // Close dropdowns on outside click
        document.addEventListener('click', (e) => {
            if (!e.target.closest('nav')) {
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    a.setAttribute('aria-expanded','false');
                    a.parentElement.classList.remove('open');
                });
            }
        });
    }
</script>

