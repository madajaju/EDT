<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Título de página dinâmico -->
    <title>Embracing Digital Transformation</title>

    <!-- SEO -->
    <link rel="canonical" href="https://embracingdigital.org/pt/home/">
    <meta name="description" content="&lt;p&gt;Nesta conversa, Matthew Pulsipher discute as complexidades de configurar um sistema de IA generativo privado, enfatizando a importância de entender seus componentes, incluindo modelos, servidores e aplicações front-end. Ele elabora sobre a significância do contexto nas respostas de IA e introduz o conceito de Geração Aumentada por Recuperação (RAG) para melhorar o desempenho da IA. A discussão também abrange a afinação de modelos de incorporação, o papel da quantização na eficiência da IA e o potencial de rodar sistemas de IA privados em Macs, destacando soluções de hospedagem com bom custo-benefício para empresas.&lt;/p&gt;
&lt;h2&gt;Conclusões&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Configurar uma IA generativa privada requer a compreensão de vários componentes.&lt;/li&gt;
&lt;li&gt;A fuga de dados não é uma preocupação com os modelos de IA generativa privada.&lt;/li&gt;
&lt;li&gt;O contexto é crucial para gerar respostas relevantes da IA.&lt;/li&gt;
&lt;li&gt;A Geração Aumentada por Recuperação (RAG) aprimora a habilidade da IA de fornecer contexto.&lt;/li&gt;
&lt;li&gt;A afinação do modelo de incorporação pode melhorar significativamente os resultados da IA.&lt;/li&gt;
&lt;li&gt;A quantização reduz o tamanho do modelo, mas pode impactar na precisão.&lt;/li&gt;
&lt;li&gt;Os Macs estão em uma posição única para rodar IA generativa privada de forma eficiente.&lt;/li&gt;
&lt;li&gt;Soluções de hospedagem de custo eficaz para IA privada podem economizar dinheiro para as empresas.&lt;/li&gt;
&lt;li&gt;Uma tecnologia está avançando em direção a dispositivos móveis e processamento local.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Capítulos&lt;/h2&gt;
00:00 Introdução aos Superpoderes e Histórico de Matthew
07:50 Melhorando o Contexto com a Geração Aumentada por Recuperação (RAG)
18:25 Compreendendo a Quantização em Modelos de IA
23:31 Rodando IA Generativa Privada em Macs
29:20 Soluções de Hospedagem Custo-Benefício para IA Privada
">
    <meta name="keywords" content="Transformação digital, podcast, entrevistas, notícias, IA, cibersegurança, edge computing, gestão de dados">
    <meta name="author" content="Dr. Darren W. Pulsipher">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Embracing Digital Transformation — Entrevistas, Notícias e Comunidade">
    <meta property="og:description" content="&lt;p&gt;Nesta conversa, Matthew Pulsipher discute as complexidades de configurar um sistema de IA generativo privado, enfatizando a importância de entender seus componentes, incluindo modelos, servidores e aplicações front-end. Ele elabora sobre a significância do contexto nas respostas de IA e introduz o conceito de Geração Aumentada por Recuperação (RAG) para melhorar o desempenho da IA. A discussão também abrange a afinação de modelos de incorporação, o papel da quantização na eficiência da IA e o potencial de rodar sistemas de IA privados em Macs, destacando soluções de hospedagem com bom custo-benefício para empresas.&lt;/p&gt;
&lt;h2&gt;Conclusões&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Configurar uma IA generativa privada requer a compreensão de vários componentes.&lt;/li&gt;
&lt;li&gt;A fuga de dados não é uma preocupação com os modelos de IA generativa privada.&lt;/li&gt;
&lt;li&gt;O contexto é crucial para gerar respostas relevantes da IA.&lt;/li&gt;
&lt;li&gt;A Geração Aumentada por Recuperação (RAG) aprimora a habilidade da IA de fornecer contexto.&lt;/li&gt;
&lt;li&gt;A afinação do modelo de incorporação pode melhorar significativamente os resultados da IA.&lt;/li&gt;
&lt;li&gt;A quantização reduz o tamanho do modelo, mas pode impactar na precisão.&lt;/li&gt;
&lt;li&gt;Os Macs estão em uma posição única para rodar IA generativa privada de forma eficiente.&lt;/li&gt;
&lt;li&gt;Soluções de hospedagem de custo eficaz para IA privada podem economizar dinheiro para as empresas.&lt;/li&gt;
&lt;li&gt;Uma tecnologia está avançando em direção a dispositivos móveis e processamento local.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Capítulos&lt;/h2&gt;
00:00 Introdução aos Superpoderes e Histórico de Matthew
07:50 Melhorando o Contexto com a Geração Aumentada por Recuperação (RAG)
18:25 Compreendendo a Quantização em Modelos de IA
23:31 Rodando IA Generativa Privada em Macs
29:20 Soluções de Hospedagem Custo-Benefício para IA Privada
">
    <meta property="og:url" content="https://embracingdigital.org/pt/home/">
    <meta property="og:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Embracing Digital Transformation — Entrevistas, Notícias e Comunidade">
    <meta name="twitter:description" content="&lt;p&gt;Nesta conversa, Matthew Pulsipher discute as complexidades de configurar um sistema de IA generativo privado, enfatizando a importância de entender seus componentes, incluindo modelos, servidores e aplicações front-end. Ele elabora sobre a significância do contexto nas respostas de IA e introduz o conceito de Geração Aumentada por Recuperação (RAG) para melhorar o desempenho da IA. A discussão também abrange a afinação de modelos de incorporação, o papel da quantização na eficiência da IA e o potencial de rodar sistemas de IA privados em Macs, destacando soluções de hospedagem com bom custo-benefício para empresas.&lt;/p&gt;
&lt;h2&gt;Conclusões&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Configurar uma IA generativa privada requer a compreensão de vários componentes.&lt;/li&gt;
&lt;li&gt;A fuga de dados não é uma preocupação com os modelos de IA generativa privada.&lt;/li&gt;
&lt;li&gt;O contexto é crucial para gerar respostas relevantes da IA.&lt;/li&gt;
&lt;li&gt;A Geração Aumentada por Recuperação (RAG) aprimora a habilidade da IA de fornecer contexto.&lt;/li&gt;
&lt;li&gt;A afinação do modelo de incorporação pode melhorar significativamente os resultados da IA.&lt;/li&gt;
&lt;li&gt;A quantização reduz o tamanho do modelo, mas pode impactar na precisão.&lt;/li&gt;
&lt;li&gt;Os Macs estão em uma posição única para rodar IA generativa privada de forma eficiente.&lt;/li&gt;
&lt;li&gt;Soluções de hospedagem de custo eficaz para IA privada podem economizar dinheiro para as empresas.&lt;/li&gt;
&lt;li&gt;Uma tecnologia está avançando em direção a dispositivos móveis e processamento local.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Capítulos&lt;/h2&gt;
00:00 Introdução aos Superpoderes e Histórico de Matthew
07:50 Melhorando o Contexto com a Geração Aumentada por Recuperação (RAG)
18:25 Compreendendo a Quantização em Modelos de IA
23:31 Rodando IA Generativa Privada em Macs
29:20 Soluções de Hospedagem Custo-Benefício para IA Privada
">
    <meta name="twitter:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Hreflang (alternativas) -->
    <link rel="alternate" href="https://embracingdigital.org/pt/home/" hreflang="pt">
    <link rel="alternate" href="https://embracingdigital.org/de/home/" hreflang="de">
    <link rel="alternate" href="https://embracingdigital.org/fr/home/" hreflang="fr">
    <link rel="alternate" href="https://embracingdigital.org/it/home/" hreflang="it">
    <link rel="alternate" href="https://embracingdigital.org/ar/home/" hreflang="ar">
    <link rel="alternate" href="https://embracingdigital.org/ja/home/" hreflang="ja">
    <link rel="alternate" href="https://embracingdigital.org/en/home/" hreflang="en">
    <link rel="alternate" href="https://embracingdigital.org/pt/home/" hreflang="x-default">

    <!-- Favicon & Estilos -->
    <link rel="icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/styles.css">

    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-P4XHVE79DL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-P4XHVE79DL');
    </script>

    <!-- Schema.org: Organization + WebSite -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Abraçando a Transformação Digital",
            "url": "https://embracingdigital.org/",
            "logo": "https://embracingdigital.org/images/logo.png",
            "sameAs": [
                "https://www.youtube.com/@embracingdigital",
                "https://www.linkedin.com/company/embracing-digital-transformation"
            ]
        }
    </script>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "name": "Abraçando a Transformação Digital",
            "url": "https://embracingdigital.org/",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://embracingdigital.org/pt/search.html?query={query}",
                "query-input": "required name=query"
            }
        }
    </script>
</head>
<body>

<header role="banner">
    <!-- Logotipo -->
    <div class="logo-container">
        <a href="/pt/home/" aria-label="Início — Abraçando a Transformação Digital">
            <img src="/images/logo.png" alt="Logotipo — Abraçando a Transformação Digital" class="site-icon">
        </a>
    </div>

    <!-- Alternância para mobile -->
    <button class="menu-toggle" aria-controls="primary-nav" aria-expanded="false" aria-label="Alternar menu">☰</button>

    <!-- Navegação principal -->
    <nav id="primary-nav" aria-label="Principal">
        <ul>
            <li><a href="/pt/home/index.html" >Início</a></li>

            <li class="dropdown">
                <a href="/pt/shows/index.html" aria-haspopup="true" aria-expanded="false">Programas</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none">
                        <a role="menuitem" href="/pt/episodes/index.html" aria-label="Entrevistas — Abraçando a Transformação Digital">
                            Abraçando a Transformação Digital
                            <small class="nav-note">Entrevistas</small>
                        </a>
                    </li>
                    <li role="none">
                        <a role="menuitem" href="/pt/briefs/index.html" aria-label="Notícias — Digital esta semana">
                            Digital esta semana
                            <small class="nav-note">Notícias</small>
                        </a>
                    </li>
                </ul>
            </li>

            <li><a href="/pt/guests/index.html">Convidados</a></li>
            <li><a href="/pt/articles/index.html">Artigos</a></li>

            <!-- Comunidade -->
            <li class="dropdown">
                <a href="/pt/community.html" aria-haspopup="true" aria-expanded="false">Comunidade</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/pt/newsletter.html">Newsletter</a></li>
                    <li role="none"><a role="menuitem" href="https://www.patreon.com/embracingdigital" target="_blank" rel="noopener">Patreon</a></li>
                    <li role="none"><a role="menuitem" href="https://www.linkedin.com/company/embracing-digital-transformation" target="_blank" rel="noopener">Grupo no LinkedIn</a></li>
                </ul>
            </li>

            <li><a href="https://6704f0-2.myshopify.com/" target="_blank" rel="noopener">Loja</a></li>

            <!-- Sobre -->
            <li class="dropdown">
                <a href="/pt/about.html" aria-haspopup="true" aria-expanded="false">Sobre</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/pt/about.html">Sobre o programa</a></li>
                    <li role="none"><a role="menuitem" href="/pt/host.html">Apresentador: Dr. Darren Pulsipher</a></li>
                    <li role="none"><a role="menuitem" href="/pt/sponsors/index.html">Patrocínio & Contato</a></li>
                </ul>
            </li>

            <li><a href="/pt/search.html">Pesquisar</a></li>

            <!-- Idiomas -->
            <li class="dropdown">
                <a href="#" aria-haspopup="true" aria-expanded="false">Idiomas</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/ar/home/index.html">العربية</a></li>
                    <li role="none"><a role="menuitem" href="/de/home/index.html">Deutsch</a></li>
                    <li role="none"><a role="menuitem" href="/en/home/index.html">English</a></li>
                    <li role="none"><a role="menuitem" href="/es/home/index.html">Español</a></li>
                    <li role="none"><a role="menuitem" href="/fr/home/index.html">Français</a></li>
                    <li role="none"><a role="menuitem" href="/it/home/index.html">Italiano</a></li>
                    <li role="none"><a role="menuitem" href="/pt/home/index.html">Português</a></li>
                    <li role="none"><a role="menuitem" href="/ja/home/index.html">日本語</a></li>
                </ul>
            </li>
        </ul>
    </nav>
</header>
<section id="one-episode">
    <h1 id="episode-title">#235 GenAI + RAG + Apple Mac = GenAI Privado</h1>
    <div class="episode-container">
        <!-- YouTube Video Section -->
        <div class="video-container">
            <iframe width="auto" height="auto" src="https://www.youtube.com/embed/AEQzEETlyS4?autoplay=1" title="Episode Playback"></iframe>
        </div>

        <!-- Podcast Audio Section -->
        <div class="podcast-container">
            <iframe width="100%" height="180" frameborder="no" scrolling="no" seamless="" src="https://share.transistor.fm/e/96996be6"></iframe>
        </div>
        <div class="show-summary">
            <p><p>Nesta conversa, Matthew Pulsipher discute as complexidades de configurar um sistema de IA generativo privado, enfatizando a importância de entender seus componentes, incluindo modelos, servidores e aplicações front-end. Ele elabora sobre a significância do contexto nas respostas de IA e introduz o conceito de Geração Aumentada por Recuperação (RAG) para melhorar o desempenho da IA. A discussão também abrange a afinação de modelos de incorporação, o papel da quantização na eficiência da IA e o potencial de rodar sistemas de IA privados em Macs, destacando soluções de hospedagem com bom custo-benefício para empresas.</p>
<h2>Conclusões</h2>
<ul>
<li>Configurar uma IA generativa privada requer a compreensão de vários componentes.</li>
<li>A fuga de dados não é uma preocupação com os modelos de IA generativa privada.</li>
<li>O contexto é crucial para gerar respostas relevantes da IA.</li>
<li>A Geração Aumentada por Recuperação (RAG) aprimora a habilidade da IA de fornecer contexto.</li>
<li>A afinação do modelo de incorporação pode melhorar significativamente os resultados da IA.</li>
<li>A quantização reduz o tamanho do modelo, mas pode impactar na precisão.</li>
<li>Os Macs estão em uma posição única para rodar IA generativa privada de forma eficiente.</li>
<li>Soluções de hospedagem de custo eficaz para IA privada podem economizar dinheiro para as empresas.</li>
<li>Uma tecnologia está avançando em direção a dispositivos móveis e processamento local.</li>
</ul>
<h2>Capítulos</h2>
00:00 Introdução aos Superpoderes e Histórico de Matthew
07:50 Melhorando o Contexto com a Geração Aumentada por Recuperação (RAG)
18:25 Compreendendo a Quantização em Modelos de IA
23:31 Rodando IA Generativa Privada em Macs
29:20 Soluções de Hospedagem Custo-Benefício para IA Privada
</p>

            <!-- Tags Section -->
            <div class="tags">
                
                    <a href="../../../pt/search.html?query=datamanagement"><span>datamanagement</span></a>
                
                    <a href="../../../pt/search.html?query=dataprivacy"><span>dataprivacy</span></a>
                
                    <a href="../../../pt/search.html?query=contextualai"><span>contextualai</span></a>
                
                    <a href="../../../pt/search.html?query=embeddingmodels"><span>embeddingmodels</span></a>
                
                    <a href="../../../pt/search.html?query=security"><span>security</span></a>
                
                    <a href="../../../pt/search.html?query=generativeai"><span>generativeai</span></a>
                
                    <a href="../../../pt/search.html?query=zerotrust"><span>zerotrust</span></a>
                
                    <a href="../../../pt/search.html?query=cybersecurity"><span>cybersecurity</span></a>
                
                    <a href="../../../pt/search.html?query=process"><span>process</span></a>
                
                    <a href="../../../pt/search.html?query=policy"><span>policy</span></a>
                
            </div>

            <!-- Guests Section -->
            <div class="guests">
                
                <a href="../../../pt/guests/matthew-pulsipher/index.html" target="_blank">Matthew Pulsipher</a>
                <a href="../../../pt/guests/darren-w-pulsipher/index.html" target="_blank">Darren W Pulsipher</a>
            </div>
        </div>

        <!-- Show Notes Section -->
        <div class="show-notes">
            <p>A IA gerativa privada está se tornando essencial para as organizações que buscam aproveitar a inteligência artificial mantendo o controle sobre seus dados. À medida que as empresas se tornam cada vez mais conscientes dos perigos potenciais associados aos modelos de IA baseados em nuvem - particularmente no que diz respeito à privacidade dos dados - desenvolver uma solução de IA gerativa privada pode fornecer uma alternativa robusta. Este post de blog irá capacitá-lo com um profundo entendimento dos componentes necessários para estabelecer um sistema de IA gerativa privada, a importância do contexto e os benefícios de incorporar modelos localmente.</p>
<h2>Blocos de Construção de IA Generativa Privada</h2>
<p>Configurar um sistema de IA generativo privado envolve vários componentes chave: o modelo de linguagem (LLM), um servidor para executá-lo e um aplicativo frontend para facilitar as interações do usuário. Modelos de código aberto populares, como Llama ou Mistral, servem como a base da AI, permitindo consultas confidenciais sem enviar dados sensíveis pela internet. As organizações podem proteger suas informações proprietárias mantendo controle sobre o servidor e os dados.</p>
<p>Ao construir um sistema de IA generativo, deve-se considerar a geração aumentada por recuperação (RAG), que integra o contexto nas respostas da IA. RAG utiliza um modelo de incorporação, uma técnica que mapeia dados de alta dimensão em um espaço de menor dimensão, para recuperar inteligentemente trechos relevantes de dados para melhorar as respostas com base nisso. Isso garante que o modelo generativo é capaz e especificamente adaptado ao contexto em que opera.</p>
<p>Investir nestes componentes pode parecer assustador, mas fique tranquilo, existem plataformas amigáveis ao usuário que simplificam essas integrações, promovendo uma experiência de IA generativa privada de alta qualidade que é segura e eficiente. Esta configuração centrada no usuário leva, em última análise, a benefícios profundos para aqueles que procuram soluções personalizadas de IA, dando-lhe a confiança para explorar soluções de IA personalizadas para a sua organização.</p>
<h2>A Importância do Contexto nas Respostas da IA</h2>
<p>Um fator crítico para maximizar o desempenho de uma IA generativa privada é o contexto. Um modelo de IA de propósito geral pode fornecer respostas genéricas quando alimentado com contexto ou dados limitados. Este post no blog irá esclarecer a importância de garantir que o seu modelo de linguagem esteja adequadamente equipado para acessar informações organizacionais relevantes, tornando assim suas respostas mais precisas.</p>
<p>Ao utilizar técnicas de geração com recuperação-aumentada (RAG), as empresas podem capacitar seus modelos de IA para responder mais efetivamente às consultas, inserindo informações específicas do contexto. Isso pode ser dados específicos do cliente, informações do produto ou tendências da indústria. Isso minimiza a chance de interpretação errônea e aumenta a relevância do conteúdo gerado. As organizações podem alcançar isso estabelecendo bases de dados internas robustas categorizadas por função, permitindo consultas eficientes em larga escala. Esta abordagem dinâmica para recuperação de contexto pode economizar tempo e fornecer mais inteligência acionável para os tomadores de decisão.</p>
<p>Personalizar seus sistemas privados de IA gerativa com contexto adequado é crucial para organizações que operam em setores exclusivos, como direito, finanças ou saúde. Documentos confidenciais e jargões específicos muitas vezes moldam as respostas do setor; portanto, incorporar modelos em seu ambiente local permite interpretações nuances tailorizadas para suas perguntas específicas.</p>
<h2>Segurança Avançada e Flexibilidade com Modelos de Incorporação Local</h2>
<p>Uma vantagem significativa da IA ​​gerativa privada é a segurança aprimorada que ela proporciona. Ao manter os dados localizados e realizar o processamento em servidores internos, as organizações podem minimizar significativamente os riscos associados ao vazamento de dados - principalmente quando as consultas envolvem informações sensíveis. Isso é especialmente importante para empresas em indústrias regulamentadas que são obrigadas a priorizar a privacidade dos dados.</p>
<p>A utilização de modelos de incorporação em sua configuração privada permite interações personalizadas que melhoram a precisão das respostas. As organizações podem gerenciar e ajustar suas incorporações, ditando os dados que subsistem em prompts e, portanto, em saídas. Este controle granular permite que as organizações mudem rapidamente em resposta às necessidades de negócios em constante evolução. Por exemplo, as empresas podem melhorar drasticamente o desempenho de sua IA ajustando como os trechos de documentos são processados ou determinando o tamanho e a relevância do contexto incorporado.</p>
<p>Além disso, avanços recentes em hardware significam que as organizações podem executar esses sofisticados sistemas de IA generativos, completos com modelos de incorporação, em hardware baseado em commodities – referindo-se a hardware disponível no mercado, que não é especializado para tarefas de IA – abrindo o acesso a tecnologias que democratizam a utilização da IA. Mesmo em máquinas como o Mac Studios, opções de hospedagem tornam as poderosas capacidades de IA acessíveis sem incorrer em custos exorbitantes.</p>
<h2>Chamada para Ação: Adote a IA Generativa Privada Hoje</h2>
<p>À medida que as organizações se aventuram no mundo da IA ​​generativa, o valor de uma configuração privada não pode ser superestimado. Isso permite maior segurança e confidencialidade e respostas personalizadas que se alinham com as necessidades específicas do negócio. O momento de explorar soluções privadas de IA generativa é agora, e a paisagem é ajustável o suficiente para acompanhar as necessidades tecnológicas em evolução.</p>
<p>Considere os requisitos únicos da sua organização e explore como você pode alavancar sistemas privados de IA generativa em suas operações. Interaja com as equipes internas para identificar maneiras de como os insights contextuais podem melhorar os processos de tomada de decisão e avalie as opções para montar os componentes necessários do sistema. Com a estrutura e ferramentas adequadas implementadas, sua organização estará bem posicionada para aproveitar todo o potencial da inteligência artificial, enquanto mitiga os riscos de segurança de dados.</p>
<p>Seja você está compreendendo a necessidade de contexto, maximizando sua configuração privada ou reconhecendo os avanços tecnológicos disponíveis, agora é o momento perfeito para saltar para o futuro da IA. Abrace a inovação; seus dados e produtividade agradecerão!</p>

        </div>
    </div>
    <div class="sponsor-container" >
        <p> Thank you to our sponsors for supporting this episode!</p>
        <p> Please help support future episodes by visiting our sponsors.</p>
        <ol>
        
        </ol>
    </div>
</section>
<footer id="footer">
    <div class="footer-content">
        <p>Copyright &copy; 2025 Paidar Productions LLC</p>
        <p>Todos os direitos reservados</p>
    </div>
</footer>
<script>
    // year
    (function(){ var y=document.getElementById('y'); if(y){ y.textContent = new Date().getFullYear(); } })();

    // Guard for pages without nav
    const toggle = document.querySelector('.menu-toggle');
    const nav    = document.querySelector('nav#primary-nav');
    if (nav) {
        // Mobile: toggle .menu-open on <body>
        toggle?.addEventListener('click', () => {
            const open = document.body.classList.toggle('menu-open');
            toggle.setAttribute('aria-expanded', String(open));
        });

        // Dropdowns: tap/click + keyboard
        document.querySelectorAll('li.dropdown > a').forEach(link => {
            const li = link.parentElement;
            const submenu = li.querySelector('.dropdown-menu');

            link.addEventListener('click', (e) => {
                if (!submenu) return;
                e.preventDefault();

                // close others
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    if (a !== link) {
                        a.setAttribute('aria-expanded', 'false');
                        a.parentElement.classList.remove('open');
                    }
                });

                const isOpen = li.classList.toggle('open');
                link.setAttribute('aria-expanded', String(isOpen));
            });

            link.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowDown') { e.preventDefault(); submenu?.querySelector('a')?.focus(); }
                if (e.key === 'Escape')    { li.classList.remove('open'); link.setAttribute('aria-expanded','false'); link.focus(); }
            });
        });

        // Close dropdowns on outside click
        document.addEventListener('click', (e) => {
            if (!e.target.closest('nav')) {
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    a.setAttribute('aria-expanded','false');
                    a.parentElement.classList.remove('open');
                });
            }
        });
    }
</script>

