<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- T√≠tulo da P√°gina Din√¢mico -->
        <title>Abra√ßando a Transforma√ß√£o Digital</title>

        <!-- Meta Descri√ß√£o para SEO -->
        <meta name="description" content="&lt;p&gt;Darren Pulsipher mostra como ele aumentou o desempenho do Elasticsearch usando a Mem√≥ria Persistente Optane da Intel no modo 100 por cento de aplica√ß√£o direta. Seus testes mostram um aumento incr√≠vel de desempenho de 2x. Ao duplicar a capacidade de throughput, voc√™ pode diminuir significativamente o n√∫mero de servidores em seu cluster Elasticsearch.&lt;/p&gt;
">

        <!-- Palavras-chave para SEO -->
        <meta name="keywords" content="podcast, ai, computa√ß√£o de borda, ciberseguran√ßa, transforma√ß√£o digital">

        <!-- Meta do Autor -->
        <meta name="author" content="Darren W Pulsipher">

        <!-- Tags Meta do Open Graph para M√≠dias Sociais -->
        <meta property="og:title" content="Abra√ßando a Transforma√ß√£o Digital">
        <meta property="og:description" content="&lt;p&gt;Darren Pulsipher mostra como ele aumentou o desempenho do Elasticsearch usando a Mem√≥ria Persistente Optane da Intel no modo 100 por cento de aplica√ß√£o direta. Seus testes mostram um aumento incr√≠vel de desempenho de 2x. Ao duplicar a capacidade de throughput, voc√™ pode diminuir significativamente o n√∫mero de servidores em seu cluster Elasticsearch.&lt;/p&gt;
">
        <meta property="og:image" content="thumbnail.png">

        <meta property="og:url" content="https://embracingdigital.org">
        <meta property="og:type" content="website">

        <!-- Tags Meta do Twitter Card -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Abra√ßando a Transforma√ß√£o Digital">
        <meta name="twitter:description" content="&lt;p&gt;Darren Pulsipher mostra como ele aumentou o desempenho do Elasticsearch usando a Mem√≥ria Persistente Optane da Intel no modo 100 por cento de aplica√ß√£o direta. Seus testes mostram um aumento incr√≠vel de desempenho de 2x. Ao duplicar a capacidade de throughput, voc√™ pode diminuir significativamente o n√∫mero de servidores em seu cluster Elasticsearch.&lt;/p&gt;
">
        <meta name="twitter:image" content="thumbnail.png">

    <title>Abra√ßando a Transforma√ß√£o Digital</title>

    <link rel="stylesheet" href="../../../css/styles.css">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-P4XHVE79DL"></script>
    <script> window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'G-P4XHVE79DL'); </script>
</head>
<body>

<!-- üåç Barra de Navega√ß√£o -->
<header>
    <div class="logo-container">
        <img src="../../../images/logo.png" alt="Abra√ßando a Transforma√ß√£o Digital" class="site-icon">
    </div>
    <nav>
        <ul>
            <li><a href="../../../pt/home/index.html">In√≠cio</a></li>
            <li><a href="../../../pt/about.html">Sobre</a></li>
            <li><a href="../../../pt/episodes/index.html">Entrevistas</a></li>
            <li><a href="../../../pt/briefs/index.html">Not√≠cias</a></li>
            <li><a href="../../../pt/community.html">Comunidade</a></li>
            <li><a href="../../../pt/guests/index.html">Convidados</a></li>
            <li><a href="https://6704f0-2.myshopify.com/">Loja</a></li>
            <li><a href="../../../pt/search.html">Buscar</a></li>
            <li class="dropdown">
                <a href="#">Idiomas</a>
                <ul class="dropdown-menu">
                    <li><a href="../../../ar/home/index.html">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</a></li> <!-- √Årabe -->
                    <li><a href="../../../de/home/index.html">Deutsch</a></li> <!-- Alem√£o -->
                    <li><a href="../../../en/home/index.html">English</a></li> <!-- Ingl√™s -->
                    <li><a href="../../../fr/home/index.html">Fran√ßais</a></li> <!-- Franc√™s -->
                    <li><a href="../../../it/home/index.html">Italiano</a></li> <!-- Italiano -->
                    <li><a href="../../../pt/home/index.html">Portugu√™s</a></li> <!-- Portugu√™s -->
                    <li><a href="../../../ja/home/index.html">Êó•Êú¨Ë™û</a></li> <!-- Japon√™s -->
                </ul>
            </li>
        </ul>
    </nav>
</header>
<section id="one-episode">
    <h1 id="episode-title">#17 Elastic Search e Intel Optane DCPMM</h1>
    <div class="episode-container">
        <!-- YouTube Video Section -->
        <div class="video-container">
            <iframe width="auto" height="auto" src="https://www.youtube.com/embed/url?autoplay=1" title="Episode Playback"></iframe>
        </div>

        <!-- Podcast Audio Section -->
        <div class="podcast-container">
            <iframe width="100%" height="180" frameborder="no" scrolling="no" seamless="" src="https://share.transistor.fm/e/77870513"></iframe>
        </div>
        <div class="show-summary">
            <p><p>Darren Pulsipher mostra como ele aumentou o desempenho do Elasticsearch usando a Mem√≥ria Persistente Optane da Intel no modo 100 por cento de aplica√ß√£o direta. Seus testes mostram um aumento incr√≠vel de desempenho de 2x. Ao duplicar a capacidade de throughput, voc√™ pode diminuir significativamente o n√∫mero de servidores em seu cluster Elasticsearch.</p>
</p>

            <!-- Tags Section -->
            <div class="tags">
                
                    <a href="../../../pt/search.html?query=intel"><span>intel</span></a>
                
                    <a href="../../../pt/search.html?query=optane"><span>optane</span></a>
                
                    <a href="../../../pt/search.html?query=moderncomputing"><span>moderncomputing</span></a>
                
                    <a href="../../../pt/search.html?query=dataanalytics"><span>dataanalytics</span></a>
                
                    <a href="../../../pt/search.html?query=multicloud"><span>multicloud</span></a>
                
                    <a href="../../../pt/search.html?query=process"><span>process</span></a>
                
                    <a href="../../../pt/search.html?query=technology"><span>technology</span></a>
                
            </div>

            <!-- Guests Section -->
            <div class="guests">
                
                <a href="../../../pt/guests/darren-w-pulsipher/index.html" target="_blank">Darren W Pulsipher</a>
            </div>
        </div>

        <!-- Show Notes Section -->
        <div class="show-notes">
            <p>Recentemente, realizei alguns testes com a nova tecnologia da Intel chamada Mem√≥ria Persistente Optane DC (PMEM) com o Kafka. Ao utilizar o Optane de uma maneira n√£o-tradicional, montado como um sistema de arquivos, consegui obter uma melhoria significativa no throughput. Confira meu podcast sobre isso aqui. (voc√™ pode colocar um link aqui?) Eu tentei fazer a mesma coisa com o Elasticsearch para ver se conseguiria alcan√ßar uma melhoria de desempenho semelhante.</p>
<p>O Elasticsearch √© um mecanismo de busca e an√°lise altamente escal√°vel que permite a distribui√ß√£o de dados em v√°rios n√≥s para expandir a solu√ß√£o e suportar quantidades substanciais de dados. Em outras palavras, √© um gerenciador de metadados distribu√≠do, usado principalmente para an√°lise de logs. O pr√≥prio Elastic √© uma √≥tima ferramenta para normalizar dados no formato JSON. Posso enviar qualquer tipo de dado para o Elastic e ele pode se estender por um cluster distribu√≠do. N√£o √© um barramento de mensagens como o Kafka, mas sim indexa os dados que est√£o sendo recebidos. Como o Elastic armazena esses dados em unidades de armazenamento, percebi que poderia usar o PMEM da mesma forma que fiz com o Kafka.</p>
<h2>Traduza o seguinte para o portugu√™s: Intel Optane DC Persistent Memory</h2>
<p>A Mem√≥ria Persistente Intel Optane DC est√° dispon√≠vel no formato DDR4, portanto, se encaixa perfeitamente no seu servidor em um slot de mem√≥ria DDR4. Os m√≥dulos est√£o dispon√≠veis em capacidades de 128, 256 e 512 gigabytes, ent√£o em um sistema de dois soquetes, posso ter 6 terabytes de PMEM. Uma caracter√≠stica importante √© que o hardware √© criptografado e vinculado √† sua CPU com essa criptografia, portanto, √© seguro e altamente confi√°vel. J√° est√° sendo usado para fazer algumas mudan√ßas profundas na forma como √© usado em ferramentas em muitos bancos de dados, como na plataforma Exadata da Oracle e no SAP HANA.</p>
<h2>Suporte para uma Ampla Gama de Aplica√ß√µes</h2>
<p>Existem v√°rias maneiras de usar essa tecnologia:</p>
<p>A primeira √© o modo de mem√≥ria, que amplia a capacidade de uma servidor. Ele utiliza o PMEM assim como a mem√≥ria normal. A mem√≥ria DDR4 atua como um cache para o PMEM. Neste modo, a velocidade √© compar√°vel √† DDR4; na maioria das aplica√ß√µes, voc√™ n√£o ver√° uma mudan√ßa.</p>
<p>O segundo modo √© o modo de aplicativo direto. No modo de aplicativo direto, posso escrever um aplicativo para que ele escreva diretamente em PMEM, ignorando etapas demoradas.</p>
<p>O terceiro modo utiliza o modo de aplicativo direto para criar um sistema de arquivos de mem√≥ria n√£o vol√°til que fica diretamente no barramento de mem√≥ria, o qual √© muitas vezes mais r√°pido do que o barramento NVMe ou at√© mesmo o barramento SATA.</p>
<p>Usando esse terceiro modo, tive que aprender um pouco sobre a arquitetura do Elastic para descobrir quais partes eu deveria executar neste sistema de arquivos ultra-r√°pido e quais deveria deixar onde est√£o. Tamb√©m queria saber se poderia fazer essas altera√ß√µes apenas com o arquivo de configura√ß√£o.</p>
<h2>Usando o Linux Kernel</h2>
<p>Primeiro, tive que aprender a usar os comandos do kernel do Linux para manipular essa PMEM.</p>
<p>Com o comando de controle de mem√≥ria persistente da Intel (ipmctl), descobri que posso configurar e gerenciar o PMEM para aloc√°-lo para executar no modo de mem√≥ria, modo direto de aplicativo ou um percentual no modo de mem√≥ria.</p>
<p>O outro comando √© o controle do dispositivo de mem√≥ria n√£o vol√°til (ndctl). Isso me permite criar espa√ßos de nomes e regi√µes nessa PMEM que criei, para que eu possa montar essa regi√£o como um dispositivo. Em seguida, posso montar esse dispositivo como um sistema de arquivos.</p>
<h2>Teste de Desempenho do ESRally</h2>
<p>Encontrei o ESRally, uma ferramenta de benchmark, para usar nos meus testes. Na primeira vez que configurei o teste, executei o ESRally a partir do meu disco SATA normal, onde o Elastic estava executando tudo a partir do disco PMEM. Obtive alguma melhoria de desempenho, mas o que descobri foi que, como estava transmitindo dados do disco SATA armazenados no meu ESRally, estava limitado pela velocidade com que podia inserir dados no Elasticsearch. Portanto, n√£o era o Elastic que estava diminuindo a velocidade, era o ESRally porque meu disco SATA era muito mais lento que o meu disco PMEM. Mudei o ESRally para o disco PMEM. Isso melhorou o desempenho e obtive resultados interessantes.</p>
<h2>Testando restri√ß√µes</h2>
<p>Para ver quais seriam os efeitos deste disco PMEM ultra-r√°pido no Elastic, executei o teste em uma m√°quina. Isso removeu a variabilidade de rede, o que eliminou gargalos de rede como um fator limitante. Reduzi a comunica√ß√£o entre servi√ßos, o que diminuiu os gargalos de r√©plica, e executei todas as consultas em PMEMs, o que eliminou a variabilidade do disco SATA.</p>
<h2>Desempenho √ìtimo (100%) App Direto</h2>
<p>Primeiro, aloquei toda a PMEM para o modo de acesso direto do aplicativo, para que eu pudesse montar tudo como um sistema de arquivos. Usei DIMMS de 128 gigabytes, ent√£o eu tinha um drive com 1,5 terabytes dispon√≠veis. Eu sabia, a partir dos meus testes anteriores com Kafka, que obtenho melhor desempenho com o modo de acesso direto do aplicativo em 100% em compara√ß√£o com 50%.</p>
<p>Taxa de transfer√™ncia m√©dia (deve ser Throughput - pode ser necess√°rio alterar no slide) docs/seg</p>
<p>Usando as estat√≠sticas do ESRally, obtive a taxa de transfer√™ncia m√©dia de documentos por segundo em compara√ß√£o ao n√∫mero de corridas concorrentes que estava executando ao mesmo tempo com produtores e consumidores. Observei n√∫meros promissores com a unidade de disco SATA, compar√°veis a outros testes publicados. Com a unidade de disco PMEM, consegui processar quase o dobro de documentos por segundo. Isso √© incr√≠vel, considerando que n√£o houve altera√ß√µes no c√≥digo, apenas uma mudan√ßa de configura√ß√£o.</p>
<h2>Tempo de Resposta do Servi√ßo</h2>
<p>O outro resultado foi o tempo de resposta √†s fun√ß√µes. Como esperado, √† medida que o n√∫mero de corridas simult√¢neas aumenta, o tempo de resposta a essas consultas ou fun√ß√µes tamb√©m aumenta. Mas com o PMEM, o tempo de resposta √© quase duas vezes mais r√°pido. A partir deste teste simples, aprendi que onde voc√™ armazena os dados que o Elasticsearch precisa (PMEM ou SATA) afeta o tempo de resposta.</p>
<h2>Conclus√£o</h2>
<p>Usar o Optane Persistent Memory no modo de sistema de arquivos para aumentar o desempenho e reduzir os custos dos servidores Elasticsearch requer mudan√ßas m√≠nimas na configura√ß√£o de hardware e software e n√£o exige altera√ß√µes no Elasticsearch ou em aplicativos subjacentes. Dobrar a capacidade de processamento do Elasticsearch significa que voc√™ pode diminuir o n√∫mero total de servidores em seu cluster do Elasticsearch, reduzindo o custo total de propriedade.</p>
<h2>Para mais informa√ß√µes.</h2>
<p>Para obter informa√ß√µes mais detalhadas, acesse o link no podcast para o documento que criamos em resposta a esses resultados de teste. Voc√™ tamb√©m pode entrar em contato comigo pelo e-mail <a href="mailto:darren.w.pulsipher@intel.com">darren.w.pulsipher@intel.com</a> ou no LinkedIn @darrenpulsipher.</p>

        </div>
    </div>
</section>
<footer id="footer">
    <div class="footer-content">
        <p>Copyright &copy; 2025 Paidar Productions LLC</p>
        <p>Todos os direitos reservados</p>
    </div>
</footer>
