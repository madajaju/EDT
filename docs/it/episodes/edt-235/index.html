<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Titolo pagina dinamico -->
    <title>GenAI + RAG + Apple Mac = GenAI Privato | Embracing Digital Transformation</title>

    <!-- SEO -->
    <link rel="canonical" href="https://www.embracingdigital.org/it/episodes/edt-235/index.html">
    <meta name="description" content="In questa conversazione, Matthew Pulsipher discute le complessità dell&amp;#39;installazione di un sistema di intelligenza artificiale generativa privato, sottolineando l&amp;#39;importanza di comprendere i suoi componenti, tra cui modelli, server e applicazioni front-end. Egli approfondisce l&amp;#39;importanz">
    <meta name="keywords" content="Trasformazione digitale, podcast, interviste, notizie, IA, cybersicurezza, edge computing, gestione dei dati">
    <meta name="author" content="Dr. Darren W. Pulsipher">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="GenAI + RAG + Apple Mac = GenAI Privato | Embracing Digital Transformation — Interviste, Notizie e Community">
    <meta property="og:description" content="In questa conversazione, Matthew Pulsipher discute le complessità dell&amp;#39;installazione di un sistema di intelligenza artificiale generativa privato, sottolineando l&amp;#39;importanza di comprendere i suoi componenti, tra cui modelli, server e applicazioni front-end. Egli approfondisce l&amp;#39;importanz">
    <meta property="og:url" content="https://www.embracingdigital.org/it/episodes/edt-235/index.html">
    <meta property="og:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="GenAI + RAG + Apple Mac = GenAI Privato | Embracing Digital Transformation — Interviste, Notizie e Community">
    <meta name="twitter:description" content="In questa conversazione, Matthew Pulsipher discute le complessità dell&amp;#39;installazione di un sistema di intelligenza artificiale generativa privato, sottolineando l&amp;#39;importanza di comprendere i suoi componenti, tra cui modelli, server e applicazioni front-end. Egli approfondisce l&amp;#39;importanz">
    <meta name="twitter:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Hreflang (alternative) -->
    <link rel="alternate" href="https://embracingdigital.org/it/home/" hreflang="it">
    <link rel="alternate" href="https://embracingdigital.org/de/home/" hreflang="de">
    <link rel="alternate" href="https://embracingdigital.org/fr/home/" hreflang="fr">
    <link rel="alternate" href="https://embracingdigital.org/pt/home/" hreflang="pt">
    <link rel="alternate" href="https://embracingdigital.org/ar/home/" hreflang="ar">
    <link rel="alternate" href="https://embracingdigital.org/ja/home/" hreflang="ja">
    <link rel="alternate" href="https://embracingdigital.org/en/home/" hreflang="en">
    <link rel="alternate" href="https://embracingdigital.org/it/home/" hreflang="x-default">

    <!-- Favicon & Stili -->
    <link rel="icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/styles.css">

    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-P4XHVE79DL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-P4XHVE79DL');
    </script>

    <!-- Schema.org: Organization + WebSite -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Abbracciare la Trasformazione Digitale",
            "url": "https://embracingdigital.org/",
            "logo": "https://embracingdigital.org/images/logo.png",
            "sameAs": [
                "https://www.youtube.com/@embracingdigital",
                "https://www.linkedin.com/company/embracing-digital-transformation"
            ]
        }
    </script>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "name": "Abbracciare la Trasformazione Digitale",
            "url": "https://embracingdigital.org/",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://embracingdigital.org/it/search.html?query={query}",
                "query-input": "required name=query"
            }
        }
    </script>
</head>
<body>

<header role="banner">
    <!-- Logo -->
    <div class="logo-container">
        <a href="/it/home/" aria-label="Home — Abbracciare la Trasformazione Digitale">
            <img src="/images/logo.png" alt="Logo — Abbracciare la Trasformazione Digitale" class="site-icon">
        </a>
    </div>

    <!-- Toggle mobile -->
    <button class="menu-toggle" aria-controls="primary-nav" aria-expanded="false" aria-label="Apri/chiudi menu">☰</button>

    <!-- Navigazione principale -->
    <nav id="primary-nav" aria-label="Principale">
        <ul>
            <li><a href="/it/home/index.html" >Home</a></li>

            <li class="dropdown">
                <a href="/it/shows/index.html" aria-haspopup="true" aria-expanded="false">Programmi</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none">
                        <a role="menuitem" href="/it/episodes/index.html" aria-label="Interviste — Abbracciare la Trasformazione Digitale">
                            Abbracciare la Trasformazione Digitale
                            <small class="nav-note">Interviste</small>
                        </a>
                    </li>
                    <li role="none">
                        <a role="menuitem" href="/it/briefs/index.html" aria-label="Notizie — Digitale questa settimana">
                            Digitale questa settimana
                            <small class="nav-note">Notizie</small>
                        </a>
                    </li>
                </ul>
            </li>

            <li><a href="/it/guests/index.html">Ospiti</a></li>
            <li><a href="/it/articles/index.html">Articoli</a></li>

            <!-- Community -->
            <li class="dropdown">
                <a href="/it/community.html" aria-haspopup="true" aria-expanded="false">Community</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/it/newsletter.html">Newsletter</a></li>
                    <li role="none"><a role="menuitem" href="https://www.patreon.com/embracingdigital" target="_blank" rel="noopener">Patreon</a></li>
                    <li role="none"><a role="menuitem" href="https://www.linkedin.com/company/embracing-digital-transformation" target="_blank" rel="noopener">Gruppo LinkedIn</a></li>
                </ul>
            </li>

            <li><a href="https://6704f0-2.myshopify.com/" target="_blank" rel="noopener">Shop</a></li>

            <!-- Informazioni -->
            <li class="dropdown">
                <a href="/it/about.html" aria-haspopup="true" aria-expanded="false">Informazioni</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/it/about.html">Informazioni sul programma</a></li>
                    <li role="none"><a role="menuitem" href="/it/host.html">Conduttore: Dr. Darren Pulsipher</a></li>
                    <li role="none"><a role="menuitem" href="/it/sponsors/index.html">Sponsorizzazioni e contatti</a></li>
                </ul>
            </li>

            <li><a href="/it/search.html">Cerca</a></li>

            <!-- Lingue -->
            <li class="dropdown">
                <a href="#" aria-haspopup="true" aria-expanded="false">Lingue</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/ar/home/index.html">العربية</a></li>
                    <li role="none"><a role="menuitem" href="/de/home/index.html">Deutsch</a></li>
                    <li role="none"><a role="menuitem" href="/en/home/index.html">English</a></li>
                    <li role="none"><a role="menuitem" href="/es/home/index.html">Español</a></li>
                    <li role="none"><a role="menuitem" href="/fr/home/index.html">Français</a></li>
                    <li role="none"><a role="menuitem" href="/it/home/index.html">Italiano</a></li>
                    <li role="none"><a role="menuitem" href="/pt/home/index.html">Português</a></li>
                    <li role="none"><a role="menuitem" href="/ja/home/index.html">日本語</a></li>
                </ul>
            </li>
        </ul>
    </nav>
</header>



<a class="skip-link" href="#main">Skip to content</a>

<nav class="breadcrumbs" aria-label="Breadcrumb">
    <ol>
        <li><a href="../../../it/home/index.html">Home</a></li>
        <li><a href="../../../it/episodes/index.html">Episodes</a></li>
        <li aria-current="page">Episode 235: GenAI + RAG + Apple Mac = Private GenAI</li>
    </ol>
</nav>

<main id="main" role="main">
    <article class="episode-container" itemscope itemtype="https://schema.org/PodcastEpisode">

        <header id="one-episode">
            
                <link itemprop="url" href="https://www.embracingdigital.org/it/episodes/edt-235/index.html">
                <meta itemprop="mainEntityOfPage" content="https://www.embracingdigital.org/it/episodes/edt-235/index.html"/>
            

            <h1 id="episode-title" itemprop="name">
                <span class="episode-number">Episode 235</span>
                <span class="episode-title">GenAI + RAG + Apple Mac = Private GenAI</span>
            </h1>

            <p class="episode-meta">
                
                    <time datetime="2025-01-09" itemprop="datePublished">2025-01-09T15:36:40.469Z</time>
                
                <span itemprop="author" itemscope itemtype="https://schema.org/Person">
          <meta itemprop="name" content="Dr. Darren Pulsipher">
          Hosted by <span class="host-name">Dr. Darren Pulsipher</span>
        </span>
            </p>

            <meta itemprop="episodeNumber" content="235"/>
            <meta itemprop="inLanguage" content="it"/>
        </header>

        
            <section class="video-container" aria-label="Watch the episode"
                     itemprop="associatedMedia" itemscope itemtype="https://schema.org/VideoObject">
                <meta itemprop="name" content="GenAI + RAG + Apple Mac = GenAI Privato Video">
                <meta itemprop="embedUrl" content="https://www.youtube.com/embed/AEQzEETlyS4">
                <iframe
                        width="auto"
                        height="auto"
                        src="https://www.youtube.com/embed/AEQzEETlyS4"
                        title="GenAI + RAG + Apple Mac = GenAI Privato Video"
                        loading="lazy"
                        referrerpolicy="strict-origin-when-cross-origin"
                        allowfullscreen
                ></iframe>
            </section>
        

        
            <section class="podcast-container" aria-label="Listen to this episode"
                     itemprop="associatedMedia" itemscope itemtype="https://schema.org/AudioObject">
                <meta itemprop="name" content="GenAI + RAG + Apple Mac = GenAI Privato Audio">
                <meta itemprop="contentUrl" content="https://share.transistor.fm/e/96996be6">
                <iframe
                        width="100%"
                        height="180"
                        frameborder="0"
                        scrolling="no"
                        src="https://share.transistor.fm/e/96996be6"
                        title="GenAI + RAG + Apple Mac = GenAI Privato Audio"
                        loading="lazy"
                ></iframe>

                <p class="listen-note">
                    Explore more in the <a href="../../../it/episodes/index.html">episode archive</a>.
                </p>
            </section>
        

        <section class="show-summary" aria-label="Episode summary" itemprop="description">
            <h2>Summary</h2>
            <p>In questa conversazione, Matthew Pulsipher discute le complessità dell&#39;installazione di un sistema di intelligenza artificiale generativa privato, sottolineando l&#39;importanza di comprendere i suoi componenti, tra cui modelli, server e applicazioni front-end. Egli approfondisce l&#39;importanz</p>


            
                <nav class="tags" aria-label="Tags">
                    
                        <a href="../../../it/search.html?query=datamanagement"
                           itemprop="keywords">datamanagement</a>
                    
                        <a href="../../../it/search.html?query=dataprivacy"
                           itemprop="keywords">dataprivacy</a>
                    
                        <a href="../../../it/search.html?query=contextualai"
                           itemprop="keywords">contextualai</a>
                    
                        <a href="../../../it/search.html?query=embeddingmodels"
                           itemprop="keywords">embeddingmodels</a>
                    
                        <a href="../../../it/search.html?query=security"
                           itemprop="keywords">security</a>
                    
                        <a href="../../../it/search.html?query=generativeai"
                           itemprop="keywords">generativeai</a>
                    
                        <a href="../../../it/search.html?query=zerotrust"
                           itemprop="keywords">zerotrust</a>
                    
                        <a href="../../../it/search.html?query=cybersecurity"
                           itemprop="keywords">cybersecurity</a>
                    
                        <a href="../../../it/search.html?query=process"
                           itemprop="keywords">process</a>
                    
                        <a href="../../../it/search.html?query=policy"
                           itemprop="keywords">policy</a>
                    
                </nav>
            

            
                <div class="guests" aria-label="Guests">
                    
                        <span itemprop="actor" itemscope itemtype="https://schema.org/Person">
              <a href="../../../it/guests/matthew-pulsipher/index.html" itemprop="url">
                <span itemprop="name">Matthew Pulsipher</span>
              </a>
            </span>
                    
                        <span itemprop="actor" itemscope itemtype="https://schema.org/Person">
              <a href="../../../it/guests/darren-w-pulsipher/index.html" itemprop="url">
                <span itemprop="name">Darren W Pulsipher</span>
              </a>
            </span>
                    
                </div>
            
        </section>

        <section class="show-notes" aria-label="Show notes">
            <p>L&#39;IA generativa privata sta diventando essenziale per le organizzazioni che cercano di sfruttare l&#39;intelligenza artificiale mantenendo il controllo sui propri dati. Con l&#39;aumentare della consapevolezza delle potenziali minacce associate ai modelli di IA basati su cloud, in particolare riguardanti la privacy dei dati, lo sviluppo di una soluzione di IA generativa privata può fornire un&#39;alternativa robusta. Questo post sul blog ti fornirà una comprensione approfondita dei componenti necessari per stabilire un sistema di IA generativa privata, l&#39;importanza del contesto e i vantaggi dell&#39;implementazione dei modelli localmente.</p>
<h2>Mattoncini Fondamentali dell&#39;IA Generativa Privata</h2>
<p>L&#39;installazione di un sistema di intelligenza artificiale generativa privato comporta diversi componenti chiave: il modello linguistico (LLM), un server su cui farlo funzionare e un&#39;applicazione frontend per facilitare le interazioni degli utenti. Modelli open-source popolari, come Llama o Mistral, fungono da fondamento per l&#39;IA, consentendo interrogazioni riservate senza inviare dati sensibili su Internet. Le organizzazioni possono tutelare le loro informazioni proprietarie mantenendo il controllo sul server e sui dati.</p>
<p>Quando si costruisce un sistema di intelligenza artificiale generativa, bisogna considerare la generazione potenziata dal recupero (RAG), che integra il contesto nelle risposte dell&#39;IA. RAG utilizza un modello di embedding, una tecnica che mappa dati ad alta dimensionalità in uno spazio a dimensionalità inferiore, per recuperare in modo intelligente frammenti di dati pertinenti per migliorare le risposte in base al contesto. Questo assicura che il modello generativo sia capace e specificamente adattato al contesto in cui opera.</p>
<p>Investire in questi componenti può sembrare scoraggiante, ma riposatevi tranquilli, ci sono piattaforme user-friendly che semplificano queste integrazioni, promuovendo un&#39;esperienza di IA generativa privata di alta qualità che è sia sicura che efficiente. Questa configurazione centrata sull&#39;utente porta infine a benefici profondi per coloro che cercano soluzioni di IA personalizzate, dandovi la fiducia per esplorare soluzioni di IA su misura per la vostra organizzazione.</p>
<h2>L&#39;importanza del contesto nelle risposte dell&#39;IA</h2>
<p>Un fattore critico nell&#39;ottimizzare le prestazioni dell&#39;IA generativa privata è il contesto. Un modello di IA generico può fornire risposte generiche quando viene fornito un contesto o dati limitati. Questo post sul blog ti illuminerà sull&#39;importanza di garantire che il tuo modello linguistico sia adeguatamente attrezzato per accedere alle informazioni organizzative pertinenti, rendendo così le tue risposte più accurate.</p>
<p>Utilizzando tecniche di generazione potenziate dal recupero (RAG), le aziende possono abilitare i loro modelli di intelligenza artificiale a rispondere in modo più efficace alle richieste inserendo informazioni specifiche al contesto. Questo potrebbe essere dati specifici del cliente, informazioni sul prodotto o tendenze del settore. Questo riduce la possibilità di interpretazione errata e aumenta la rilevanza del contenuto generato. Le organizzazioni possono raggiungere questo obiettivo stabilendo robusti database interni categorizzati per funzione, permettendo un&#39;efficiente interrogazione su larga scala. Questo approccio dinamico al recupero del contesto può risparmiare tempo e fornire informazioni più utili per i responsabili delle decisioni.</p>
<p>Personalizzare i loro sistemi privati di intelligenza artificiale generativa con il contesto adeguato è fondamentale per le organizzazioni che operano in settori unici, come legge, finanza o sanità. I documenti confidenziali e il gergo specifico spesso modellano le risposte del settore; pertanto, incorporare i modelli all&#39;interno del loro ambiente locale permette interpretazioni sfumate adattate alle loro specifiche indagini.</p>
<h2>Maggiore Sicurezza e Flessibilità con Modelli di Incorporazione Locale</h2>
<p>Un vantaggio significativo dell&#39;IA generativa privata è la maggiore sicurezza che offre. Mantenendo i dati localizzati e conducendo l&#39;elaborazione su server interni, le organizzazioni possono ridurre significativamente i rischi associati alle perdite di dati, principalmente quando le richieste coinvolgono informazioni sensibili. Questo è particolarmente importante per le aziende in settori regolamentati che sono obbligate a dare priorità alla privacy dei dati.</p>
<p>Utilizzare modelli di embedding nel proprio sistema privato permette di personalizzare le interazioni migliorando l&#39;accuratezza delle risposte. Le organizzazioni possono gestire e perfezionare i loro embedding, dettando i dati che sussistono nei prompt e, quindi, nei risultati. Questo controllo granulare consente alle organizzazioni di cambiare rapidamente in risposta alle mutevoli esigenze aziendali. Ad esempio, le aziende possono migliorare notevolmente le prestazioni della loro IA regolando il modo in cui vengono elaborati frammenti di documenti o determinando la dimensione e la rilevanza del contesto incorporato.</p>
<p>Inoltre, i recenti progressi nell&#39;hardware significano che le organizzazioni possono gestire questi sofisticati sistemi di intelligenza artificiale generativa, completi di modelli di incorporamento, su hardware di base, che si riferisce a hardware facilmente disponibile e non specializzato per i compiti di intelligenza artificiale, aprendo l&#39;accesso a tecnologie che democratizzano l&#39;utilizzo dell&#39;intelligenza artificiale. Anche su macchine come Mac Studios, le opzioni di hosting rendono accessibili potenti capacità di intelligenza artificiale senza sostenere costi esorbitanti.</p>
<h2>Chiamata all&#39;Azione: Abbraccia l&#39;IA Generativa Privata Oggi</h2>
<p>Mentre le organizzazioni si avventurano nel mondo dell&#39;IA generativa, il valore di un setup privato non può essere sopravvalutato. Permette una maggiore sicurezza e riservatezza e risposte personalizzate che si allineano con le specifiche esigenze aziendali. Il momento per esplorare le soluzioni di IA generativa privata è ora, e il panorama è abbastanza flessibile da mantenere il passo con le esigenze tecnologiche in evoluzione.</p>
<p>Considera le esigenze uniche della tua organizzazione ed esplora come puoi sfruttare i sistemi di intelligenza artificiale generativa privati nelle tue operazioni. Coinvolgi i team interni per identificare le modalità con cui gli approfondimenti contestuali possono migliorare i processi decisionali e valuta le opzioni per assemblare i componenti necessari del sistema. Con la struttura e gli strumenti appropriati in posto, la tua organizzazione sarà in una posizione ideale per sfruttare appieno il potenziale dell&#39;intelligenza artificiale, mitigando al contempo i rischi per la sicurezza dei dati.</p>
<p>Che tu stia comprendendo la necessità del contesto, ottimizzando la tua configurazione privata o riconoscendo i progressi tecnologici disponibili, ora è il momento perfetto per catapultarti nel futuro dell&#39;IA. Accogli l&#39;innovazione; i tuoi dati e la tua produttività ti ringrazieranno!</p>

        </section>

        

    </article>
</main>

<!-- Structured Data -->
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "PodcastSeries",
  "@id": "https://www.embracingdigital.org/it/episodes/index.html#series",
  "name": "Embracing Digital Transformation",
  "url": "https://www.embracingdigital.org/it/episodes/index.html",
  "inLanguage": "it",
  "description": "A podcast about the digital transformation of the world.",
  "publisher": {
    "@type": "Organization",
    "@id": "https://www.embracingdigital.org/#org",
    "name": "Embracing Digital Transformation",
    "url": "https://www.embracingdigital.org",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.embracingdigital.org/images/logo.png",
      "width": 512,
      "height": 512
    }
  }
}</script>
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "PodcastEpisode",
  "@id": "https://www.embracingdigital.org/it/episodes/edt-235/index.html#episode",
  "url": "https://www.embracingdigital.org/it/episodes/edt-235/index.html",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.embracingdigital.org/it/episodes/edt-235/index.html"
  },
  "name": "GenAI + RAG + Apple Mac = GenAI Privato",
  "episodeNumber": 235,
  "datePublished": "2025-01-09",
  "inLanguage": "it",
  "description": "In questa conversazione, Matthew Pulsipher discute le complessità dell&#39;installazione di un sistema di intelligenza artificiale generativa privato, sottolineando l&#39;importanza di comprendere i suoi componenti, tra cui modelli, server e applicazioni front-end. Egli approfondisce l&#39;importanz",
  "partOfSeries": {
    "@id": "https://www.embracingdigital.org/it/episodes/index.html#series"
  },
  "author": {
    "@type": "Person",
    "name": "Dr. Darren Pulsipher"
  },
  "creator": {
    "@type": "Person",
    "name": "Dr. Darren Pulsipher"
  },
  "image": {
    "@type": "ImageObject",
    "url": "https://www.embracingdigital.org/it/episodes/edt-235/thumbnail.jpg"
  },
  "associatedMedia": [
    {
      "@type": "VideoObject",
      "name": "GenAI + RAG + Apple Mac = GenAI Privato Video",
      "embedUrl": "https://www.youtube.com/embed/AEQzEETlyS4"
    },
    {
      "@type": "AudioObject",
      "name": "GenAI + RAG + Apple Mac = GenAI Privato Audio",
      "contentUrl": "https://share.transistor.fm/e/96996be6"
    }
  ],
  "actor": [
    {
      "@type": "Person",
      "name": "Matthew Pulsipher",
      "url": "https://www.embracingdigital.org/../../../it/guests/matthew-pulsipher/index.html"
    },
    {
      "@type": "Person",
      "name": "Darren W Pulsipher",
      "url": "https://www.embracingdigital.org/../../../it/guests/darren-w-pulsipher/index.html"
    }
  ]
}</script>

<footer id="footer">
    <div class="footer-content">
        <p>Copyright &copy; 2025 Paidar Productions LLC</p>
        <p>Diritti riservati</p>
    </div>
</footer>
<script>
    // year
    (function(){ var y=document.getElementById('y'); if(y){ y.textContent = new Date().getFullYear(); } })();

    // Guard for pages without nav
    const toggle = document.querySelector('.menu-toggle');
    const nav    = document.querySelector('nav#primary-nav');
    if (nav) {
        // Mobile: toggle .menu-open on <body>
        toggle?.addEventListener('click', () => {
            const open = document.body.classList.toggle('menu-open');
            toggle.setAttribute('aria-expanded', String(open));
        });

        // Dropdowns: tap/click + keyboard
        document.querySelectorAll('li.dropdown > a').forEach(link => {
            const li = link.parentElement;
            const submenu = li.querySelector('.dropdown-menu');

            link.addEventListener('click', (e) => {
                if (!submenu) return;
                e.preventDefault();

                // close others
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    if (a !== link) {
                        a.setAttribute('aria-expanded', 'false');
                        a.parentElement.classList.remove('open');
                    }
                });

                const isOpen = li.classList.toggle('open');
                link.setAttribute('aria-expanded', String(isOpen));
            });

            link.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowDown') { e.preventDefault(); submenu?.querySelector('a')?.focus(); }
                if (e.key === 'Escape')    { li.classList.remove('open'); link.setAttribute('aria-expanded','false'); link.focus(); }
            });
        });

        // Close dropdowns on outside click
        document.addEventListener('click', (e) => {
            if (!e.target.closest('nav')) {
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    a.setAttribute('aria-expanded','false');
                    a.parentElement.classList.remove('open');
                });
            }
        });
    }
</script>

