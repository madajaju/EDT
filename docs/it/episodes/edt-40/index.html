<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Titolo pagina dinamico -->
    <title>Collaborative Medical Research with Confidential Computing</title>

    <!-- SEO -->
    <link rel="canonical" href="https://embracingdigital.org/it/home/">
    <meta name="description" content="&lt;p&gt;Abbattete le barriere per accelerare la ricerca medica per la cura del cancro con il calcolo confidenziale. Nick Bhadange, Technology Specialist, AI-Vets e Darren Pulsipher, Chief Solution Architect, Settore Pubblico, Intel, discutono la necessità di calcolo confidenziale nel settore sanitario e i potenziali vantaggi attraverso casi d&amp;#39;uso.&lt;/p&gt;
">
    <meta name="keywords" content="Trasformazione digitale, podcast, interviste, notizie, IA, cybersicurezza, edge computing, gestione dei dati">
    <meta name="author" content="Dr. Darren W. Pulsipher">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Collaborative Medical Research with Confidential Computing — Interviste, Notizie e Community">
    <meta property="og:description" content="&lt;p&gt;Abbattete le barriere per accelerare la ricerca medica per la cura del cancro con il calcolo confidenziale. Nick Bhadange, Technology Specialist, AI-Vets e Darren Pulsipher, Chief Solution Architect, Settore Pubblico, Intel, discutono la necessità di calcolo confidenziale nel settore sanitario e i potenziali vantaggi attraverso casi d&amp;#39;uso.&lt;/p&gt;
">
    <meta property="og:url" content="https://embracingdigital.org/it/home/">
    <meta property="og:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Collaborative Medical Research with Confidential Computing — Interviste, Notizie e Community">
    <meta name="twitter:description" content="&lt;p&gt;Abbattete le barriere per accelerare la ricerca medica per la cura del cancro con il calcolo confidenziale. Nick Bhadange, Technology Specialist, AI-Vets e Darren Pulsipher, Chief Solution Architect, Settore Pubblico, Intel, discutono la necessità di calcolo confidenziale nel settore sanitario e i potenziali vantaggi attraverso casi d&amp;#39;uso.&lt;/p&gt;
">
    <meta name="twitter:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Hreflang (alternative) -->
    <link rel="alternate" href="https://embracingdigital.org/it/home/" hreflang="it">
    <link rel="alternate" href="https://embracingdigital.org/de/home/" hreflang="de">
    <link rel="alternate" href="https://embracingdigital.org/fr/home/" hreflang="fr">
    <link rel="alternate" href="https://embracingdigital.org/pt/home/" hreflang="pt">
    <link rel="alternate" href="https://embracingdigital.org/ar/home/" hreflang="ar">
    <link rel="alternate" href="https://embracingdigital.org/ja/home/" hreflang="ja">
    <link rel="alternate" href="https://embracingdigital.org/en/home/" hreflang="en">
    <link rel="alternate" href="https://embracingdigital.org/it/home/" hreflang="x-default">

    <!-- Favicon & Stili -->
    <link rel="icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/styles.css">

    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-P4XHVE79DL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-P4XHVE79DL');
    </script>

    <!-- Schema.org: Organization + WebSite -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Abbracciare la Trasformazione Digitale",
            "url": "https://embracingdigital.org/",
            "logo": "https://embracingdigital.org/images/logo.png",
            "sameAs": [
                "https://www.youtube.com/@embracingdigital",
                "https://www.linkedin.com/company/embracing-digital-transformation"
            ]
        }
    </script>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "name": "Abbracciare la Trasformazione Digitale",
            "url": "https://embracingdigital.org/",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://embracingdigital.org/it/search.html?query={query}",
                "query-input": "required name=query"
            }
        }
    </script>
</head>
<body>

<header role="banner">
    <!-- Logo -->
    <div class="logo-container">
        <a href="/it/home/" aria-label="Home — Abbracciare la Trasformazione Digitale">
            <img src="/images/logo.png" alt="Logo — Abbracciare la Trasformazione Digitale" class="site-icon">
        </a>
    </div>

    <!-- Toggle mobile -->
    <button class="menu-toggle" aria-controls="primary-nav" aria-expanded="false" aria-label="Apri/chiudi menu">☰</button>

    <!-- Navigazione principale -->
    <nav id="primary-nav" aria-label="Principale">
        <ul>
            <li><a href="/it/home/index.html" >Home</a></li>

            <li class="dropdown">
                <a href="/it/shows/index.html" aria-haspopup="true" aria-expanded="false">Programmi</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none">
                        <a role="menuitem" href="/it/episodes/index.html" aria-label="Interviste — Abbracciare la Trasformazione Digitale">
                            Abbracciare la Trasformazione Digitale
                            <small class="nav-note">Interviste</small>
                        </a>
                    </li>
                    <li role="none">
                        <a role="menuitem" href="/it/briefs/index.html" aria-label="Notizie — Digitale questa settimana">
                            Digitale questa settimana
                            <small class="nav-note">Notizie</small>
                        </a>
                    </li>
                </ul>
            </li>

            <li><a href="/it/guests/index.html">Ospiti</a></li>
            <li><a href="/it/articles/index.html">Articoli</a></li>

            <!-- Community -->
            <li class="dropdown">
                <a href="/it/community.html" aria-haspopup="true" aria-expanded="false">Community</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/it/newsletter.html">Newsletter</a></li>
                    <li role="none"><a role="menuitem" href="https://www.patreon.com/embracingdigital" target="_blank" rel="noopener">Patreon</a></li>
                    <li role="none"><a role="menuitem" href="https://www.linkedin.com/company/embracing-digital-transformation" target="_blank" rel="noopener">Gruppo LinkedIn</a></li>
                </ul>
            </li>

            <li><a href="https://6704f0-2.myshopify.com/" target="_blank" rel="noopener">Shop</a></li>

            <!-- Informazioni -->
            <li class="dropdown">
                <a href="/it/about.html" aria-haspopup="true" aria-expanded="false">Informazioni</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/it/about.html">Informazioni sul programma</a></li>
                    <li role="none"><a role="menuitem" href="/it/host.html">Conduttore: Dr. Darren Pulsipher</a></li>
                    <li role="none"><a role="menuitem" href="/it/sponsors/index.html">Sponsorizzazioni e contatti</a></li>
                </ul>
            </li>

            <li><a href="/it/search.html">Cerca</a></li>

            <!-- Lingue -->
            <li class="dropdown">
                <a href="#" aria-haspopup="true" aria-expanded="false">Lingue</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/ar/home/index.html">العربية</a></li>
                    <li role="none"><a role="menuitem" href="/de/home/index.html">Deutsch</a></li>
                    <li role="none"><a role="menuitem" href="/en/home/index.html">English</a></li>
                    <li role="none"><a role="menuitem" href="/es/home/index.html">Español</a></li>
                    <li role="none"><a role="menuitem" href="/fr/home/index.html">Français</a></li>
                    <li role="none"><a role="menuitem" href="/it/home/index.html">Italiano</a></li>
                    <li role="none"><a role="menuitem" href="/pt/home/index.html">Português</a></li>
                    <li role="none"><a role="menuitem" href="/ja/home/index.html">日本語</a></li>
                </ul>
            </li>
        </ul>
    </nav>
</header>

<section id="one-episode"
         itemscope itemtype="https://schema.org/PodcastEpisode">
  <meta itemprop="mainEntityOfPage" content=""/>
  <header>
    <h1 id="episode-title" itemprop="name">
      #40 <span>Ricerca Medica Collaborativa con Elaborazione dei Dati Riservata</span>
    </h1>
    <time datetime="2021-02-24T00:00:00.000Z"
          itemprop="datePublished">
      2021-02-24T00:00:00.000Z
    </time>
    <meta itemprop="episodeNumber" content="40"/>
  </header>

  <!-- VideoObject -->
  <div class="video-container" itemprop="associatedMedia"
       itemscope itemtype="https://schema.org/VideoObject">
    <meta itemprop="name" content="Ricerca Medica Collaborativa con Elaborazione dei Dati Riservata">
    <meta itemprop="embedUrl"
          content="https://www.youtube.com/embed/url">
    <iframe width="auto" height="auto"
            src="https://www.youtube.com/embed/url?autoplay=1"
            title="Ricerca Medica Collaborativa con Elaborazione dei Dati Riservata Video"></iframe>
  </div>

  <!-- AudioObject -->
  <aside class="podcast-container" itemprop="associatedMedia"
         itemscope itemtype="https://schema.org/AudioObject">
    <meta itemprop="name" content="Ricerca Medica Collaborativa con Elaborazione dei Dati Riservata">
    <meta itemprop="contentUrl"
          content="https://share.transistor.fm/e/embracing-digital-transformation-episode44.html">
    <iframe width="100%" height="180" frameborder="0" scrolling="no"
            src="https://share.transistor.fm/e/embracing-digital-transformation-episode44.html"
            title="Ricerca Medica Collaborativa con Elaborazione dei Dati Riservata Audio"></iframe>
  </aside>

  <div class="show-summary" itemprop="description">
    <p><p>Abbattete le barriere per accelerare la ricerca medica per la cura del cancro con il calcolo confidenziale. Nick Bhadange, Technology Specialist, AI-Vets e Darren Pulsipher, Chief Solution Architect, Settore Pubblico, Intel, discutono la necessità di calcolo confidenziale nel settore sanitario e i potenziali vantaggi attraverso casi d&#39;uso.</p>
</p>
    <nav class="tags" aria-label="Tags">
      
        <a href="../../../it/search.html?query=confidentialcomputing"
           itemprop="keywords">confidentialcomputing</a>
      
        <a href="../../../it/search.html?query=dataprivacy"
           itemprop="keywords">dataprivacy</a>
      
        <a href="../../../it/search.html?query=healthcare"
           itemprop="keywords">healthcare</a>
      
        <a href="../../../it/search.html?query=dataintegrity"
           itemprop="keywords">dataintegrity</a>
      
        <a href="../../../it/search.html?query=security"
           itemprop="keywords">security</a>
      
        <a href="../../../it/search.html?query=datamanagement"
           itemprop="keywords">datamanagement</a>
      
        <a href="../../../it/search.html?query=analytics"
           itemprop="keywords">analytics</a>
      
        <a href="../../../it/search.html?query=dataencryption"
           itemprop="keywords">dataencryption</a>
      
        <a href="../../../it/search.html?query=cybersecurity"
           itemprop="keywords">cybersecurity</a>
      
        <a href="../../../it/search.html?query=policy"
           itemprop="keywords">policy</a>
      
        <a href="../../../it/search.html?query=process"
           itemprop="keywords">process</a>
      
    </nav>
    <div class="guests" itemprop="actor" itemscope itemtype="https://schema.org/Person">
      
        <a href="../../../it/guests/darren-w-pulsipher/index.html"
           itemprop="name" target="_blank">Darren W Pulsipher</a>
      
        <a href="../../../it/guests/nick-bhadange/index.html"
           itemprop="name" target="_blank">Nick Bhadange</a>
      
    </div>
  </div>

  <div class="show-notes" itemprop="transcript">
    <h2>Perché abbiamo bisogno della elaborazione riservata?</h2>
<p>L&#39;infrastruttura informatica attuale è costruita con un&#39;enfasi sulla condivisione e l&#39;apertura: internet è gratuito e i dati dovrebbero essere gratuiti. Questo è stato un problema per quanto riguarda la sicurezza. Abbiamo implementato alcune soluzioni che funzionano bene; sappiamo come crittografare i dati quando vengono archiviati e quando sono in transito. Nonostante ciò, i dati possono essere attaccati in vari modi mentre vengono letti, analizzati e utilizzati.</p>
<p>I dati sensibili rimangono vulnerabili, che si tratti di dati finanziari, medici o di posizione, sia dal punto di vista della visibilità che dell&#39;integrità dei dati.</p>
<p>Nel trattare i dati nel settore sanitario, vi sono strati aggiuntivi di complessità. Esistono molte norme e regolamenti, come l&#39;HIPAA, e ogni stato ha le proprie norme riguardanti i dati medici. Nonostante la complessità e il numero di parti coinvolte, la computazione confidenziale è possibile, permettendo di condividere dati tra parti che per loro natura non si fidano l&#39;una dell&#39;altra.</p>
<p>Per riservatezza, dobbiamo considerare alcuni diversi fattori: l&#39;integrità dei dati, la riservatezza dei dati e l&#39;integrità del codice.</p>
<h2>Problemi critici di privacy e sicurezza dei dati.</h2>
<p>I record sanitari di un individuo, specialmente negli Stati Uniti, sono dispersi ovunque tra medici, specialisti, laboratori e ospedali. La maggior parte delle persone non ha un facile accesso ai propri record; è quasi impossibile creare una visione completa della propria salute. Il computing confidenziale può aiutare a superare queste barriere.</p>
<p>Prima di tutto, può garantire che qualsiasi dato che condividi sia protetto dalla prospettiva dell&#39;integrità dei dati; non sarà modificato da nessuno. Può essere confidenziale, ovvero tokenizzato o crittografato, ma può comunque essere utilizzato per calcoli. Ad esempio, se una parte desidera effettuare analisi su alcuni dati, non è necessario conoscere informazioni come nomi, date di nascita o numeri di previdenza sociale. Quindi, se quelle parti dei dati possono essere tokenizzate o crittografate, possono essere condivise per l&#39;analisi a condizione che l&#39;altra parte sia affidabile.</p>
<p>Questo è il punto in cui le misure di sicurezza come l&#39;attestazione giocano un ruolo, in modo che le parti possano dimostrare la propria identità. E quell&#39;attestazione può essere legata fino al livello dell&#39;hardware, agli ambienti di esecuzione affidabili che l&#39;hardware fornisce. In questo modo, non ci si limita a fidarsi del trasporto e del punto finale, ci si fida anche dell&#39;applicazione e di come utilizzerà i dati.</p>
<p>Ci sono due approcci di base a questo riguardo. Il primo è l&#39;SDK dell&#39;applicazione, il che significa che lo sviluppatore può decidere come suddividere il proprio codice in componenti affidabili e non affidabili. L&#39;altro approccio è quello di avere un sistema di crittografia in esecuzione che può essere costruito su di un ambiente di esecuzione affidabile, riducendo al minimo l&#39;effort richiesto per convertire un&#39;applicazione esistente in qualcosa che può essere eseguito in quell&#39;ambiente.</p>
<p>Con un ambiente di esecuzione affidabile basato su hardware che protegge le applicazioni e i dati in uso, diventa molto difficile per un attore non autorizzato, anche se ha accesso fisico all&#39;hardware, privilegi di root o diritti di amministratore all&#39;ipervisore, accedere all&#39;applicazione protetta e ai dati. Il paradigma del calcolo confidenziale mira a consentire l&#39;eliminazione del provider di cloud anche dalla base di calcolo affidabile. In questo modo, solo l&#39;hardware e l&#39;applicazione stessa protetta si trovano all&#39;interno del perimetro di attacco.</p>
<p>Questi ambienti informatici consentono ai CSP (Cloud Service Providers) di sfruttare al meglio ciò che l&#39;hardware può offrire e la migliore sicurezza possibile, su cui l&#39;utente finale ha il pieno controllo. Ogni parte può determinare le proprie politiche e le gerarchie delle politiche, come quelle statali e federali, e ogni fornitore di informazioni può decidere quali politiche applicare e a chi.</p>
<h2>Studio clinico di evidenza del mondo reale</h2>
<p>Unire tutti i dati e dargli un senso è una grande sfida nell&#39;industria sanitaria. Il numero delle impostazioni di privacy e di condivisione dei dati che sono in atto tra i diversi fornitori, dispositivi, posizioni geografiche, ecc. rende attualmente impossibile ciò.</p>
<p>AI-Vets, Intel e alcuni partner stanno lavorando insieme a questo problema. L&#39;architettura brillantemente semplice consente l&#39;utilizzo in ambienti disparati, tipi di dati e politiche, ma è in grado di eseguire analisi centralizzate.</p>
<p>Un esempio della nostra implementazione è una piccola prova di concetto: Come si analizza tra diverse parti come ospedali, ambienti di ricerca e laboratori, ognuno con i propri dati e trial che potrebbero essere in corso in un ambiente clinico? Ad esempio, come possiamo trovare una correlazione tra le persone che assumono il farmaco X, ad esempio per il diabete, e hanno la condizione Y, ad esempio il cancro, quando il farmaco X non ha nulla a che fare con il trattamento della condizione Y? Questi due set di dati non sarebbero nello stesso luogo perché sono gestiti da diversi fornitori.</p>
<p>Se tuttavia i fornitori facessero parte di un ecosistema in cui potessero determinare le politiche da applicare al proprio punto finale, potremmo avere un&#39;applicazione centralizzata, un portale centrale per la ricerca, che ha connessioni a questi punti finali. Ci sarebbe una gestione delle chiavi e attestazione di terze parti per verificare le credenziali e le autorizzazioni reciproche, in modo che tutte le parti possano fidarsi l&#39;una dell&#39;altra.</p>
<p>Quello è un aspetto della fiducia, ma dobbiamo anche proteggere i dati che verranno estratti, interrogati e trasmessi. Per conseguire questo, possiamo gestire i dati e le applicazioni all&#39;interno di enclave sicure e crittografate. I dati vengono gestiti utilizzando le politiche impostate da ciascun utente, come l&#39;oscuramento delle date di nascita, i numeri di previdenza sociale, ecc. Queste informazioni possono essere tokenizzate in modo che diventino spazzatura completa nelle mani non autorizzate.</p>
<p>Il portale centrale può eseguire una query che si estende su più endpoint e unisce diversi tipi di dati nel suo sistema in esecuzione e ne effettua un&#39;analisi. Quindi, invece di dover caricare tutto in un data lake e poi fare l&#39;analisi, viene fatto in tempo reale. Non c&#39;è attesa che i dati vengano pubblicati o puliti prima applicando tutte quelle politiche; accade dinamicamente e al volo.</p>
<p>Questo permette di ottenere notevoli intuizioni. Durante la pandemia, ad esempio, se dovessimo aspettare ogni giorno per ottenere i dati e eseguire analisi complesse su di essi, sarebbe difficile. Se fossimo in grado di accedere a dati in tempo reale provenienti da tutti questi diversi sistemi in tutto il paese e nel mondo, ma allo stesso tempo condividerli in modo sicuro, potremmo arrivare a intuizioni uniche che altrimenti non sarebbero possibili.</p>
<p>Abbiamo già visto ciò in alcuni casi di studio per siti clinici che abbiamo fatto con il nostro partner Fortanix. Hanno una linea di prodotti che rende facile per diverse entità definire le loro politiche in un ambiente di calcolo confidenziale, verificare le identità reciproche e gestire chiavi e fiducie. Il concetto di ambienti di esecuzione affidabili è presente da tempo ed è diventato di uso comune, quindi è diventato più facile sfruttarlo. I casi d&#39;uso per questo sono fantastici.</p>
<h2>Rilevazione automatica del COVID-19 da immagini radiografiche del torace</h2>
<p>In alcuni casi d&#39;uso, non è solo necessario proteggere i dati, ma anche la proprietà intellettuale associata ad alcuni algoritmi specializzati. Ad esempio, per rilevare automaticamente il COVID dalle immagini a raggi X, potrebbero esserci dati radiologici, dati del paziente e potrebbe esserci un algoritmo proprietario per l&#39;analisi. Le enclave possono proteggere sia i dati che le applicazioni da occhi indiscreti.</p>
<p>La zona sicura protegge anche le altre macchine nella rete perché se qualcuno inviasse qualcosa di losco verso i nodi finali, il sistema di gestione delle chiavi ne impedirebbe lo scambio poiché non è correttamente attestato. Le parti scelgono esattamente con quali fonti di dati la zona sicura può comunicare ed è bloccata sia per ciò che entra che per ciò che esce.</p>
<h2>Registri sanitari elettronici (eHR)</h2>
<p>I record sanitari sono un grande caos negli Stati Uniti, con accordi HIPAA cartacei non applicabili, ecc., e tutto è sparpagliato tra diverse entità. Un caso d&#39;uso che potrebbe essere un buon modello da seguire è quello del governo tedesco. Hanno stabilito che i dati sanitari devono essere conservati in registri elettronici e le applicazioni devono essere implementate in ambienti di esecuzione affidabili. Il paziente è l&#39;utente finale e determina quali dati sono disponibili e per chi.</p>
<p>Quel livello di dettaglio in termini di ciò che è disponibile per l&#39;utente finale è enorme. E non solo tutti quei dati sono raccolti e condivisi dai diversi sistemi, sono in enclave sicure, quindi sono completamente protetti dal mondo esterno. Se qualcuno non autorizzato riuscisse ad accedere ai dati stessi, sarebbero completamente privi di significato.</p>
<p>Questi ambienti di esecuzione affidabili sono il primo passo nella direzione di controlli facilmente comprensibili e facilmente applicabili.</p>

  </div>

  <div class="sponsor-container">
    <p>Thank you to our sponsors for supporting this episode!</p>
    <ol>
      
    </ol>
  </div>
</section>

<!-- PodcastEpisode JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "PodcastEpisode",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": ""
  },
  "name": "Ricerca Medica Collaborativa con Elaborazione dei Dati Riservata",
  "episodeNumber": "40",
  "datePublished": "2021-02-24T00:00:00.000Z",
  "description": "<p>Abbattete le barriere per accelerare la ricerca medica per la cura del cancro con il calcolo confidenziale. Nick Bhadange, Technology Specialist, AI-Vets e Darren Pulsipher, Chief Solution Architect, Settore Pubblico, Intel, discutono la necessità di calcolo confidenziale nel settore sanitario e i potenziali vantaggi attraverso casi d&#39;uso.</p>
",
  "associatedMedia": [
    {
      "@type": "VideoObject",
      "name": "Ricerca Medica Collaborativa con Elaborazione dei Dati Riservata Video",
      "embedUrl": "https://www.youtube.com/embed/url"
    },
    {
      "@type": "AudioObject",
      "name": "Ricerca Medica Collaborativa con Elaborazione dei Dati Riservata Audio",
      "contentUrl": "https://share.transistor.fm/e/embracing-digital-transformation-episode44.html"
    }
  ],
  "actor": [
    
    {
      "@type": "Person",
      "name": "Darren W Pulsipher"
    }
    
    {
      "@type": "Person",
      "name": "Nick Bhadange"
    }
    
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Embracing Digital Transformation",
    "logo": {
      "@type": "ImageObject",
      "url": "https://embracingdigital.org/images/logo.png"
    }
  }
}
</script>
<footer id="footer">
    <div class="footer-content">
        <p>Copyright &copy; 2025 Paidar Productions LLC</p>
        <p>Diritti riservati</p>
    </div>
</footer>
<script>
    // year
    (function(){ var y=document.getElementById('y'); if(y){ y.textContent = new Date().getFullYear(); } })();

    // Guard for pages without nav
    const toggle = document.querySelector('.menu-toggle');
    const nav    = document.querySelector('nav#primary-nav');
    if (nav) {
        // Mobile: toggle .menu-open on <body>
        toggle?.addEventListener('click', () => {
            const open = document.body.classList.toggle('menu-open');
            toggle.setAttribute('aria-expanded', String(open));
        });

        // Dropdowns: tap/click + keyboard
        document.querySelectorAll('li.dropdown > a').forEach(link => {
            const li = link.parentElement;
            const submenu = li.querySelector('.dropdown-menu');

            link.addEventListener('click', (e) => {
                if (!submenu) return;
                e.preventDefault();

                // close others
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    if (a !== link) {
                        a.setAttribute('aria-expanded', 'false');
                        a.parentElement.classList.remove('open');
                    }
                });

                const isOpen = li.classList.toggle('open');
                link.setAttribute('aria-expanded', String(isOpen));
            });

            link.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowDown') { e.preventDefault(); submenu?.querySelector('a')?.focus(); }
                if (e.key === 'Escape')    { li.classList.remove('open'); link.setAttribute('aria-expanded','false'); link.focus(); }
            });
        });

        // Close dropdowns on outside click
        document.addEventListener('click', (e) => {
            if (!e.target.closest('nav')) {
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    a.setAttribute('aria-expanded','false');
                    a.parentElement.classList.remove('open');
                });
            }
        });
    }
</script>

