<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Titre de page dynamique -->
    <title>The Black Art of DevOps</title>

    <!-- SEO -->
    <link rel="canonical" href="https://embracingdigital.org/fr/home/">
    <meta name="description" content="&lt;p&gt;Darren Pulsipher, architecte en chef des solutions, secteur public, chez Intel, définit les termes courants de DevOps et explique comment DevOps s&amp;#39;intègre dans votre organisation.&lt;/p&gt;
">
    <meta name="keywords" content="Transformation numérique, podcast, interviews, actualités, IA, cybersécurité, edge computing, gestion des données">
    <meta name="author" content="Dr. Darren W. Pulsipher">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="The Black Art of DevOps — Interviews, Actualités et Communauté">
    <meta property="og:description" content="&lt;p&gt;Darren Pulsipher, architecte en chef des solutions, secteur public, chez Intel, définit les termes courants de DevOps et explique comment DevOps s&amp;#39;intègre dans votre organisation.&lt;/p&gt;
">
    <meta property="og:url" content="https://embracingdigital.org/fr/home/">
    <meta property="og:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="The Black Art of DevOps — Interviews, Actualités et Communauté">
    <meta name="twitter:description" content="&lt;p&gt;Darren Pulsipher, architecte en chef des solutions, secteur public, chez Intel, définit les termes courants de DevOps et explique comment DevOps s&amp;#39;intègre dans votre organisation.&lt;/p&gt;
">
    <meta name="twitter:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Hreflang (alternatives) -->
    <link rel="alternate" href="https://embracingdigital.org/fr/home/" hreflang="fr">
    <link rel="alternate" href="https://embracingdigital.org/de/home/" hreflang="de">
    <link rel="alternate" href="https://embracingdigital.org/it/home/" hreflang="it">
    <link rel="alternate" href="https://embracingdigital.org/pt/home/" hreflang="pt">
    <link rel="alternate" href="https://embracingdigital.org/ar/home/" hreflang="ar">
    <link rel="alternate" href="https://embracingdigital.org/ja/home/" hreflang="ja">
    <link rel="alternate" href="https://embracingdigital.org/en/home/" hreflang="en">
    <link rel="alternate" href="https://embracingdigital.org/fr/home/" hreflang="x-default">

    <!-- Favicon & Styles -->
    <link rel="icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/styles.css">

    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-P4XHVE79DL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-P4XHVE79DL');
    </script>

    <!-- Schema.org: Organization + WebSite -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Adopter la Transformation Numérique",
            "url": "https://embracingdigital.org/",
            "logo": "https://embracingdigital.org/images/logo.png",
            "sameAs": [
                "https://www.youtube.com/@embracingdigital",
                "https://www.linkedin.com/company/embracing-digital-transformation"
            ]
        }
    </script>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "name": "Adopter la Transformation Numérique",
            "url": "https://embracingdigital.org/",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://embracingdigital.org/fr/search.html?query={query}",
                "query-input": "required name=query"
            }
        }
    </script>
</head>
<body>

<header role="banner">
    <!-- Logo -->
    <div class="logo-container">
        <a href="/fr/home/" aria-label="Accueil — Adopter la Transformation Numérique">
            <img src="/images/logo.png" alt="Logo — Adopter la Transformation Numérique" class="site-icon">
        </a>
    </div>

    <!-- Bascule mobile -->
    <button class="menu-toggle" aria-controls="primary-nav" aria-expanded="false" aria-label="Basculer le menu">☰</button>

    <!-- Navigation principale -->
    <nav id="primary-nav" aria-label="Principale">
        <ul>
            <li><a href="/fr/home/index.html" >Accueil</a></li>

            <li class="dropdown">
                <a href="/fr/shows/index.html" aria-haspopup="true" aria-expanded="false">Émissions</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none">
                        <a role="menuitem" href="/fr/episodes/index.html" aria-label="Interviews — Adopter la Transformation Numérique">
                            Adopter la Transformation Numérique
                            <small class="nav-note">Interviews</small>
                        </a>
                    </li>
                    <li role="none">
                        <a role="menuitem" href="/fr/briefs/index.html" aria-label="Actualités — Le numérique cette semaine">
                            Le numérique cette semaine
                            <small class="nav-note">Actualités</small>
                        </a>
                    </li>
                </ul>
            </li>

            <li><a href="/fr/guests/index.html">Invités</a></li>
            <li><a href="/fr/articles/index.html">Articles</a></li>

            <!-- Communauté -->
            <li class="dropdown">
                <a href="/fr/community.html" aria-haspopup="true" aria-expanded="false">Communauté</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/fr/newsletter.html">Newsletter</a></li>
                    <li role="none"><a role="menuitem" href="https://www.patreon.com/embracingdigital" target="_blank" rel="noopener">Patreon</a></li>
                    <li role="none"><a role="menuitem" href="https://www.linkedin.com/company/embracing-digital-transformation" target="_blank" rel="noopener">Groupe LinkedIn</a></li>
                </ul>
            </li>

            <li><a href="https://6704f0-2.myshopify.com/" target="_blank" rel="noopener">Boutique</a></li>

            <!-- À propos -->
            <li class="dropdown">
                <a href="/fr/about.html" aria-haspopup="true" aria-expanded="false">À propos</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/fr/about.html">À propos de l’émission</a></li>
                    <li role="none"><a role="menuitem" href="/fr/host.html">Animateur : Dr Darren Pulsipher</a></li>
                    <li role="none"><a role="menuitem" href="/fr/sponsors/index.html">Sponsoring & Contact</a></li>
                </ul>
            </li>

            <li><a href="/fr/search.html">Recherche</a></li>

            <!-- Langues -->
            <li class="dropdown">
                <a href="#" aria-haspopup="true" aria-expanded="false">Langues</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/ar/home/index.html">العربية</a></li>
                    <li role="none"><a role="menuitem" href="/de/home/index.html">Deutsch</a></li>
                    <li role="none"><a role="menuitem" href="/en/home/index.html">English</a></li>
                    <li role="none"><a role="menuitem" href="/es/home/index.html">Español</a></li>
                    <li role="none"><a role="menuitem" href="/fr/home/index.html">Français</a></li>
                    <li role="none"><a role="menuitem" href="/it/home/index.html">Italiano</a></li>
                    <li role="none"><a role="menuitem" href="/pt/home/index.html">Português</a></li>
                    <li role="none"><a role="menuitem" href="/ja/home/index.html">日本語</a></li>
                </ul>
            </li>
        </ul>
    </nav>
</header>

<section id="one-episode"
         itemscope itemtype="https://schema.org/PodcastEpisode">
  <meta itemprop="mainEntityOfPage" content=""/>
  <header>
    <h1 id="episode-title" itemprop="name">
      #41 <span>L'art obscur de DevOps</span>
    </h1>
    <time datetime="2021-03-10T00:00:00.000Z"
          itemprop="datePublished">
      2021-03-10T00:00:00.000Z
    </time>
    <meta itemprop="episodeNumber" content="41"/>
  </header>

  <!-- VideoObject -->
  <div class="video-container" itemprop="associatedMedia"
       itemscope itemtype="https://schema.org/VideoObject">
    <meta itemprop="name" content="L'art obscur de DevOps">
    <meta itemprop="embedUrl"
          content="https://www.youtube.com/embed/url">
    <iframe width="auto" height="auto"
            src="https://www.youtube.com/embed/url?autoplay=1"
            title="L'art obscur de DevOps Video"></iframe>
  </div>

  <!-- AudioObject -->
  <aside class="podcast-container" itemprop="associatedMedia"
         itemscope itemtype="https://schema.org/AudioObject">
    <meta itemprop="name" content="L'art obscur de DevOps">
    <meta itemprop="contentUrl"
          content="https://share.transistor.fm/e/b4fe3ea1">
    <iframe width="100%" height="180" frameborder="0" scrolling="no"
            src="https://share.transistor.fm/e/b4fe3ea1"
            title="L'art obscur de DevOps Audio"></iframe>
  </aside>

  <div class="show-summary" itemprop="description">
    <p><p>Darren Pulsipher, architecte en chef des solutions, secteur public, chez Intel, définit les termes courants de DevOps et explique comment DevOps s&#39;intègre dans votre organisation.</p>
</p>
    <nav class="tags" aria-label="Tags">
      
        <a href="../../../fr/search.html?query=devops"
           itemprop="keywords">devops</a>
      
        <a href="../../../fr/search.html?query=datamanagement"
           itemprop="keywords">datamanagement</a>
      
        <a href="../../../fr/search.html?query=automation"
           itemprop="keywords">automation</a>
      
        <a href="../../../fr/search.html?query=data_management"
           itemprop="keywords">data_management</a>
      
        <a href="../../../fr/search.html?query=multicloud"
           itemprop="keywords">multicloud</a>
      
        <a href="../../../fr/search.html?query=zerotrust"
           itemprop="keywords">zerotrust</a>
      
        <a href="../../../fr/search.html?query=process"
           itemprop="keywords">process</a>
      
    </nav>
    <div class="guests" itemprop="actor" itemscope itemtype="https://schema.org/Person">
      
        <a href="../../../fr/guests/darren-w-pulsipher/index.html"
           itemprop="name" target="_blank">Darren W Pulsipher</a>
      
    </div>
  </div>

  <div class="show-notes" itemprop="transcript">
    <p>Jetons un coup d&#39;œil à la place de DevOps dans votre infrastructure.</p>
<p>Au bas d&#39;une pile normale, nous avons une couche physique qui peut signifier un nuage, un centre de données, des appareils d&#39;IoT ou une infrastructure héritée.</p>
<p>De plus, il y a généralement une infrastructure définie par logiciel qui dissocie la complexité de la gestion des composants matériels individuels.</p>
<p>Ensuite se trouve une couche de gestion des services, qui comprend la virtualisation de l&#39;écosystème des conteneurs et une couche de gestion des informations distribuées, qui comprend le plan de données, les data lakes et tout ce qui gère vos données.</p>
<p>Ensuite vient la couche d&#39;application. Les développeurs d&#39;applications utilisent les services à l&#39;intérieur des couches d&#39;application. Juste à l&#39;interface entre la couche d&#39;application et le plan de gestion des données et la gestion des services se trouvent les outils SecDevOps ou DevOps. Ces outils incluent des aspects de sécurité et d&#39;identité qui offrent une manière sécurisée d&#39;intégrer et de déployer en continu vos produits.</p>
<h2>Couche Application / Charge de travail</h2>
<p>En tête de la couche d&#39;application et de la charge de travail qui alimente le SecDevOps se trouvent trois types de charges de travail : les charges de travail déclenchées par des événements, les charges de travail procédurales et une combinaison des deux, qui sont des charges de travail pilotées par GUI ou UI.</p>
<p>Un exemple simple d&#39;une charge de travail pilotée par des événements serait qu&#39;une commande d&#39;achat arrive dans votre système, provoquant d&#39;autres actions. Il peut y avoir des étapes séquentielles ou parallèles, une interaction avec les humains, de l&#39;automatisation et une interaction avec plusieurs applications ou sous-systèmes différents au sein de l&#39;entreprise.</p>
<p>De nombreux outils d&#39;automatisation de la charge de travail sont disponibles. Certains sont programmés tandis que d&#39;autres utilisent l&#39;automatisation des processus robotiques, qui sont davantage basés sur l&#39;interface graphique (GUI) et l&#39;interface utilisateur (UI). Ces outils travaillent sur l&#39;automatisation des services sous-jacents, donc les charges de travail orientent l&#39;interaction des services.</p>
<p>Les services se répartissent traditionnellement en trois grandes catégories : les applications, telles que des produits prêts à l&#39;emploi comme Word ou une application SAP ; les services complexes, qui sont construits dans un but spécifique, comme une pile MEAN avec Mongo ; et les services simples, qui font une seule chose, par exemple MongoDB qui stocke la base de données.</p>
<p>Il existe une nouvelle catégorie en raison de la croissance de l&#39;IA et de l&#39;apprentissage automatique. Beaucoup de services ne font pas grand-chose sans un modèle qui lui est attaché, donc nous avons ajouté des modèles d&#39;IA à la couche de service, que nous traitons de la même manière qu&#39;un simple service.</p>
<h2>Journée d&#39;un développeur dans la vie.</h2>
<p>Après avoir compris les charges de travail et les services, nous pouvons examiner ce que fait généralement un développeur.</p>
<p>Un développeur écrira du code sur sa station de travail et effectuera quelques tests de fonctionnalités. Ensuite, il vérifie le code sur GitHub, par exemple, et une chaîne d&#39;intégration et de livraison continues (CICD) se déclenche. Elle effectue des vérifications de sécurité sur le code, peut-être du lint, de l&#39;analyse statique et de l&#39;analyse dynamique.</p>
<p>Une fois qu&#39;il a passé ces tests, il sera généralement intégré à une branche d&#39;intégration où les autres membres de l&#39;équipe de développement récupèrent les données, les développent et intègrent leur code avec le code du développeur. Ensuite, une fois qu&#39;il a passé leurs tests, il est déployé dans une étape de test. Une fois cette étape franchie, il passera en production.</p>
<p>Ceci est un pipeline CICD typique, qui existe depuis des décennies. Au fil des années, les différentes façons de décrire les pipelines ont été consolidées et normalisées, ce qui limite les complexités et les erreurs.</p>
<h2>Pile DevSecOps</h2>
<p>Le pipeline n&#39;est qu&#39;un élément d&#39;une pile SecDevOps.</p>
<p>D&#39;autres éléments nécessaires incluent un registre et un référentiel. Pensez à ceux-ci comme des référentiels versionnés pour stocker les artefacts générés pendant le pipeline CICD afin qu&#39;ils soient facilement disponibles pour être utilisés encore et encore.</p>
<p>Un autre élément important est un cadre d&#39;automatisation. Cela aide à alléger le travail humain d&#39;exécution de tâches telles que les vérifications de sécurité ou la promotion de constructions d&#39;une étape à une autre. Les outils pour l&#39;automatisation sont matures et la formation est disponible, donc un bon cadre d&#39;automatisation devrait être fondamental.</p>
<p>Bien que la gestion de l&#39;environnement se développe souvent de manière organique au fil du temps, il est logique de gérer et d&#39;organiser les environnements de manière appropriée pour obtenir plus de fiabilité et de reproductibilité.</p>
<p>Un élément clé en dessous de tout cela est un profil de sécurité. Vous devriez être en mesure d&#39;avoir la capacité de définir des profils de sécurité, afin qu&#39;ils puissent être utilisés dans plusieurs environnements et dans plusieurs piles d&#39;applications.</p>
<h2>Registres / Dépôts</h2>
<p>Il y a généralement au moins deux types différents de dépôts. Le premier est un dépôt de mise en scène, où vous pouvez générer des images (une collecte de tout le code nécessaire pour lancer un conteneur, par exemple), et stocker des choses comme des clés d&#39;identification et des clés secrètes. Ce dépôt contient tout ce dont vous avez besoin pour déplacer les éléments en production. Certaines organisations peuvent avoir plusieurs dépôts de mise en scène car différents éléments passent par différentes étapes de maturité jusqu&#39;à ce qu&#39;ils atteignent le dépôt de production. Vous voulez être en mesure de revenir aux versions précédentes si nécessaire.</p>
<p>Dans la production, ou le référentiel doré, les images sont verrouillées, authentifiées et chiffrées. Seuls les éléments présents dans le référentiel doré sont déplacés vers la production.</p>
<h2>Stages translated to French is &quot;Stages&quot;.</h2>
<p>La meilleure façon de penser aux étapes dans le pipeline CICD est que chaque étape fonctionne dans un seul environnement. Par exemple, dans une étape de construction, il existe un environnement de construction isolé avec des politiques. Ce n&#39;est que lorsque toutes les étapes de cette étape sont accomplies que les choses peuvent passer à la prochaine étape. Cela évite de gaspiller des ressources avec des constructions et des exécutions parallèles qui peuvent éventuellement échouer. En même temps, il est préférable de ne pas avoir autant d&#39;étapes qu&#39;elles entravent le progrès, donc un plan soigneux et défini est important.</p>
<h2>Étapes</h2>
<p>À l&#39;intérieur des étapes se trouvent des étapes où le travail est réellement effectué. Dans la construction et le test de logiciels, les étapes peuvent être exécutées en parallèle ou en séquence ; il existe de nombreux outils qui vous permettent de définir ces opérations. Bien que certains aient une interface graphique pour cela, la plupart des développeurs préfèrent un format textuel car il permet le contrôle de version du pipeline et des étapes, permettant ainsi des vérifications de sécurité contre le pipeline.</p>
<h2>Pipeline</h2>
<p>Avec des étapes et des étapes définies, vous avez un vrai pipeline. Au lieu de définir un seul pipeline pour toutes vos applications, ce qui échoue généralement car il devient excessivement complexe avec de nombreuses conditions ou trop restrictif, je recommande d&#39;utiliser des pipelines modèles et de les modifier si nécessaire, en veillant à respecter les normes de conformité et les réglementations. Il est important d&#39;établir un pipeline approprié dès le début d&#39;un projet, tout comme la flexibilité au fur et à mesure de l&#39;avancement du projet.</p>
<h2>Environnements</h2>
<p>Au lieu de créer des environnements ad hoc, il est préférable de les créer dès le départ avec intention. Le DevOps ou le SecDevOps peuvent injecter des politiques de sécurité et de conformité dans l&#39;ensemble des différents projets, garantissant ainsi la sécurité.</p>
<h2>Service Stack can be translated to French as &quot;Pile de services&quot;.</h2>
<p>Jetons un coup d&#39;œil à la façon dont les développeurs travaillent, ce qui concerne les services de nos jours. Même si les développeurs travaillent sur une application monolithique, ils ont tendance à regrouper leur travail en unités fonctionnelles telles que des bases de données, des nœuds de logique métier ou des couches de transport. Par exemple, en utilisant un service simple tel que MongoDB. Lorsqu&#39;un développeur exécute ce conteneur sur son ordinateur portable, cela lui permet d&#39;obtenir la fonctionnalité attendue pour stocker des données de manière non SQL dans un document. Sur l&#39;ordinateur portable, il se peut que ce soit le seul conteneur en cours d&#39;exécution.</p>
<p>Dans un environnement de test ou de développement, il peut y avoir plusieurs instances de ce service en cours d&#39;exécution, et le développeur peut déployer un cluster de services MongoDB et les connecter ensemble pour un test. Le service reste un service Mongo DB, mais son comportement change en fonction de l&#39;environnement dans lequel il se trouve. L&#39;objectif des développeurs est d&#39;écrire du code et de le vérifier par rapport au service MongoDB sur leurs ordinateurs portables pour garantir qu&#39;il fonctionnera correctement en production.</p>
<p>Un service simple tel que MongoDB est nécessaire, mais en soi, pas très utile. Des services complexes tels que les piles LAMP ou les piles MEAN sont plus importants. Ce sont plusieurs services qui fonctionnent ensemble, agissant essentiellement comme un seul service. Rassemblés, ils déploient un service complexe sur un ordinateur portable et il y a deux ou trois conteneurs de service simples qui tournent, fournissant aux développeurs les fonctionnalités nécessaires pour vérifier leur code.</p>
<p>Une fois que le code est validé, il déclenche le processus de développement où le développeur s&#39;intègre avec d&#39;autres personnes. Le même service complexe peut adopter une toute autre façon de fonctionner. De nombreuses politiques de sécurité peuvent être associées à ce service complexe pour garantir sa sécurité, sa fiabilité et sa résilience.</p>
<h2>Définitions de service/application</h2>
<p>Il est important de comprendre les concepts de services simples et complexes car les développeurs de logiciels doivent définir comment les faire fonctionner. Il existe quelques définitions. L&#39;une d&#39;entre elles est appelée définition d&#39;image. Elles sont fréquemment utilisées dans le monde des conteneurs, appelées images Docker. Le fichier Docker définit ce qui se trouve dans cette image. Cela est considéré comme un conteneur simple en lui-même, bien que les gens commencent à utiliser des conteneurs pour des choses complexes.</p>
<p>Dans les définitions de service, nous pouvons inclure plusieurs définitions d&#39;imagines, par exemple Docker Compose, les opérateurs Kubernetes, les graphiques Helm, Terraform, et même CNAB. Ce sont des outils qui vous permettent de définir un service. Un service est plus qu&#39;un simple conteneur ; c&#39;est l&#39;environnement dans lequel le conteneur s&#39;exécute. Il peut inclure des définitions de réseau, de connectivité de volume, voire même des politiques de déploiement. Une &quot;définition de service&quot; complète comprend des définitions d&#39;image, de configuration et de provisionnement.</p>
<h2>Mettre tout cela ensemble.</h2>
<p>Lorsqu&#39;un développeur crée un nouveau service, il ne se contente pas de développer le code de l&#39;image ; il définit également l&#39;environnement ou la configuration dans lequel il doit s&#39;exécuter. C&#39;est là que l&#39;enchevêtrement de votre environnement et de la définition du service peut se rejoindre. Au moment de l&#39;exécution, cela produira l&#39;environnement nécessaire pour que le conteneur s&#39;exécute de manière efficace et répétable, de sorte que vous puissiez facilement déplacer le code de l&#39;exécution sur un ordinateur de bureau à l&#39;exécution en production complète le plus rapidement possible.</p>

  </div>

  <div class="sponsor-container">
    <p>Thank you to our sponsors for supporting this episode!</p>
    <ol>
      
    </ol>
  </div>
</section>

<!-- PodcastEpisode JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "PodcastEpisode",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": ""
  },
  "name": "L'art obscur de DevOps",
  "episodeNumber": "41",
  "datePublished": "2021-03-10T00:00:00.000Z",
  "description": "<p>Darren Pulsipher, architecte en chef des solutions, secteur public, chez Intel, définit les termes courants de DevOps et explique comment DevOps s&#39;intègre dans votre organisation.</p>
",
  "associatedMedia": [
    {
      "@type": "VideoObject",
      "name": "L'art obscur de DevOps Video",
      "embedUrl": "https://www.youtube.com/embed/url"
    },
    {
      "@type": "AudioObject",
      "name": "L'art obscur de DevOps Audio",
      "contentUrl": "https://share.transistor.fm/e/b4fe3ea1"
    }
  ],
  "actor": [
    
    {
      "@type": "Person",
      "name": "Darren W Pulsipher"
    }
    
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Embracing Digital Transformation",
    "logo": {
      "@type": "ImageObject",
      "url": "https://embracingdigital.org/images/logo.png"
    }
  }
}
</script>
<footer id="footer">
    <div class="footer-content">
        <p>Droit d'auteur &copy; 2025 Paidar Productions LLC</p>
        <p>Tous droits réservés</p>
    </div>
</footer>
<script>
    // year
    (function(){ var y=document.getElementById('y'); if(y){ y.textContent = new Date().getFullYear(); } })();

    // Guard for pages without nav
    const toggle = document.querySelector('.menu-toggle');
    const nav    = document.querySelector('nav#primary-nav');
    if (nav) {
        // Mobile: toggle .menu-open on <body>
        toggle?.addEventListener('click', () => {
            const open = document.body.classList.toggle('menu-open');
            toggle.setAttribute('aria-expanded', String(open));
        });

        // Dropdowns: tap/click + keyboard
        document.querySelectorAll('li.dropdown > a').forEach(link => {
            const li = link.parentElement;
            const submenu = li.querySelector('.dropdown-menu');

            link.addEventListener('click', (e) => {
                if (!submenu) return;
                e.preventDefault();

                // close others
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    if (a !== link) {
                        a.setAttribute('aria-expanded', 'false');
                        a.parentElement.classList.remove('open');
                    }
                });

                const isOpen = li.classList.toggle('open');
                link.setAttribute('aria-expanded', String(isOpen));
            });

            link.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowDown') { e.preventDefault(); submenu?.querySelector('a')?.focus(); }
                if (e.key === 'Escape')    { li.classList.remove('open'); link.setAttribute('aria-expanded','false'); link.focus(); }
            });
        });

        // Close dropdowns on outside click
        document.addEventListener('click', (e) => {
            if (!e.target.closest('nav')) {
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    a.setAttribute('aria-expanded','false');
                    a.parentElement.classList.remove('open');
                });
            }
        });
    }
</script>

