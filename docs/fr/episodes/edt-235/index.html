<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Titre de page dynamique -->
    <title>GenAI + RAG + Apple Mac = GenAI Privé | Embracing Digital Transformation</title>

    <!-- SEO -->
    <link rel="canonical" href="https://www.embracingdigital.org/fr/episodes/edt-235/index.html">
    <meta name="description" content="Dans cette conversation, Matthew Pulsipher discute des subtilités de la mise en place d&amp;#39;un système d&amp;#39;IA générative privée, soulignant l&amp;#39;importance de comprendre ses composants, y compris les modèles, les serveurs et les applications front-end. Il élabore sur l&amp;#39;importance du contexte">
    <meta name="keywords" content="Transformation numérique, podcast, interviews, actualités, IA, cybersécurité, edge computing, gestion des données">
    <meta name="author" content="Dr. Darren W. Pulsipher">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="GenAI + RAG + Apple Mac = GenAI Privé | Embracing Digital Transformation — Interviews, Actualités et Communauté">
    <meta property="og:description" content="Dans cette conversation, Matthew Pulsipher discute des subtilités de la mise en place d&amp;#39;un système d&amp;#39;IA générative privée, soulignant l&amp;#39;importance de comprendre ses composants, y compris les modèles, les serveurs et les applications front-end. Il élabore sur l&amp;#39;importance du contexte">
    <meta property="og:url" content="https://www.embracingdigital.org/fr/episodes/edt-235/index.html">
    <meta property="og:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="GenAI + RAG + Apple Mac = GenAI Privé | Embracing Digital Transformation — Interviews, Actualités et Communauté">
    <meta name="twitter:description" content="Dans cette conversation, Matthew Pulsipher discute des subtilités de la mise en place d&amp;#39;un système d&amp;#39;IA générative privée, soulignant l&amp;#39;importance de comprendre ses composants, y compris les modèles, les serveurs et les applications front-end. Il élabore sur l&amp;#39;importance du contexte">
    <meta name="twitter:image" content="https://embracingdigital.org/images/logo.png">

    <!-- Hreflang (alternatives) -->
    <link rel="alternate" href="https://embracingdigital.org/fr/home/" hreflang="fr">
    <link rel="alternate" href="https://embracingdigital.org/de/home/" hreflang="de">
    <link rel="alternate" href="https://embracingdigital.org/it/home/" hreflang="it">
    <link rel="alternate" href="https://embracingdigital.org/pt/home/" hreflang="pt">
    <link rel="alternate" href="https://embracingdigital.org/ar/home/" hreflang="ar">
    <link rel="alternate" href="https://embracingdigital.org/ja/home/" hreflang="ja">
    <link rel="alternate" href="https://embracingdigital.org/en/home/" hreflang="en">
    <link rel="alternate" href="https://embracingdigital.org/fr/home/" hreflang="x-default">

    <!-- Favicon & Styles -->
    <link rel="icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/styles.css">

    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-P4XHVE79DL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-P4XHVE79DL');
    </script>

    <!-- Schema.org: Organization + WebSite -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Adopter la Transformation Numérique",
            "url": "https://embracingdigital.org/",
            "logo": "https://embracingdigital.org/images/logo.png",
            "sameAs": [
                "https://www.youtube.com/@embracingdigital",
                "https://www.linkedin.com/company/embracing-digital-transformation"
            ]
        }
    </script>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "name": "Adopter la Transformation Numérique",
            "url": "https://embracingdigital.org/",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://embracingdigital.org/fr/search.html?query={query}",
                "query-input": "required name=query"
            }
        }
    </script>
</head>
<body>

<header role="banner">
    <!-- Logo -->
    <div class="logo-container">
        <a href="/fr/home/" aria-label="Accueil — Adopter la Transformation Numérique">
            <img src="/images/logo.png" alt="Logo — Adopter la Transformation Numérique" class="site-icon">
        </a>
    </div>

    <!-- Bascule mobile -->
    <button class="menu-toggle" aria-controls="primary-nav" aria-expanded="false" aria-label="Basculer le menu">☰</button>

    <!-- Navigation principale -->
    <nav id="primary-nav" aria-label="Principale">
        <ul>
            <li><a href="/fr/home/index.html" >Accueil</a></li>

            <li class="dropdown">
                <a href="/fr/shows/index.html" aria-haspopup="true" aria-expanded="false">Émissions</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none">
                        <a role="menuitem" href="/fr/episodes/index.html" aria-label="Interviews — Adopter la Transformation Numérique">
                            Adopter la Transformation Numérique
                            <small class="nav-note">Interviews</small>
                        </a>
                    </li>
                    <li role="none">
                        <a role="menuitem" href="/fr/briefs/index.html" aria-label="Actualités — Le numérique cette semaine">
                            Le numérique cette semaine
                            <small class="nav-note">Actualités</small>
                        </a>
                    </li>
                </ul>
            </li>

            <li><a href="/fr/guests/index.html">Invités</a></li>
            <li><a href="/fr/articles/index.html">Articles</a></li>

            <!-- Communauté -->
            <li class="dropdown">
                <a href="/fr/community.html" aria-haspopup="true" aria-expanded="false">Communauté</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/fr/newsletter.html">Newsletter</a></li>
                    <li role="none"><a role="menuitem" href="https://www.patreon.com/embracingdigital" target="_blank" rel="noopener">Patreon</a></li>
                    <li role="none"><a role="menuitem" href="https://www.linkedin.com/company/embracing-digital-transformation" target="_blank" rel="noopener">Groupe LinkedIn</a></li>
                </ul>
            </li>

            <li><a href="https://6704f0-2.myshopify.com/" target="_blank" rel="noopener">Boutique</a></li>

            <!-- À propos -->
            <li class="dropdown">
                <a href="/fr/about.html" aria-haspopup="true" aria-expanded="false">À propos</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/fr/about.html">À propos de l’émission</a></li>
                    <li role="none"><a role="menuitem" href="/fr/host.html">Animateur : Dr Darren Pulsipher</a></li>
                    <li role="none"><a role="menuitem" href="/fr/sponsors/index.html">Sponsoring & Contact</a></li>
                </ul>
            </li>

            <li><a href="/fr/search.html">Recherche</a></li>

            <!-- Langues -->
            <li class="dropdown">
                <a href="#" aria-haspopup="true" aria-expanded="false">Langues</a>
                <ul class="dropdown-menu" role="menu">
                    <li role="none"><a role="menuitem" href="/ar/home/index.html">العربية</a></li>
                    <li role="none"><a role="menuitem" href="/de/home/index.html">Deutsch</a></li>
                    <li role="none"><a role="menuitem" href="/en/home/index.html">English</a></li>
                    <li role="none"><a role="menuitem" href="/es/home/index.html">Español</a></li>
                    <li role="none"><a role="menuitem" href="/fr/home/index.html">Français</a></li>
                    <li role="none"><a role="menuitem" href="/it/home/index.html">Italiano</a></li>
                    <li role="none"><a role="menuitem" href="/pt/home/index.html">Português</a></li>
                    <li role="none"><a role="menuitem" href="/ja/home/index.html">日本語</a></li>
                </ul>
            </li>
        </ul>
    </nav>
</header>



<a class="skip-link" href="#main">Skip to content</a>

<nav class="breadcrumbs" aria-label="Breadcrumb">
    <ol>
        <li><a href="../../../fr/home/index.html">Home</a></li>
        <li><a href="../../../fr/episodes/index.html">Episodes</a></li>
        <li aria-current="page">Episode 235: GenAI + RAG + Apple Mac = Private GenAI</li>
    </ol>
</nav>

<main id="main" role="main">
    <article class="episode-container" itemscope itemtype="https://schema.org/PodcastEpisode">

        <header id="one-episode">
            
                <link itemprop="url" href="https://www.embracingdigital.org/fr/episodes/edt-235/index.html">
                <meta itemprop="mainEntityOfPage" content="https://www.embracingdigital.org/fr/episodes/edt-235/index.html"/>
            

            <h1 id="episode-title" itemprop="name">
                <span class="episode-number">Episode 235</span>
                <span class="episode-title">GenAI + RAG + Apple Mac = Private GenAI</span>
            </h1>

            <p class="episode-meta">
                
                    <time datetime="2025-01-09" itemprop="datePublished">2025-01-09T15:36:40.469Z</time>
                
                <span itemprop="author" itemscope itemtype="https://schema.org/Person">
          <meta itemprop="name" content="Dr. Darren Pulsipher">
          Hosted by <span class="host-name">Dr. Darren Pulsipher</span>
        </span>
            </p>

            <meta itemprop="episodeNumber" content="235"/>
            <meta itemprop="inLanguage" content="fr"/>
        </header>

        
            <section class="video-container" aria-label="Watch the episode"
                     itemprop="associatedMedia" itemscope itemtype="https://schema.org/VideoObject">
                <meta itemprop="name" content="GenAI + RAG + Apple Mac = GenAI Privé Video">
                <meta itemprop="embedUrl" content="https://www.youtube.com/embed/AEQzEETlyS4">
                <iframe
                        width="auto"
                        height="auto"
                        src="https://www.youtube.com/embed/AEQzEETlyS4"
                        title="GenAI + RAG + Apple Mac = GenAI Privé Video"
                        loading="lazy"
                        referrerpolicy="strict-origin-when-cross-origin"
                        allowfullscreen
                ></iframe>
            </section>
        

        
            <section class="podcast-container" aria-label="Listen to this episode"
                     itemprop="associatedMedia" itemscope itemtype="https://schema.org/AudioObject">
                <meta itemprop="name" content="GenAI + RAG + Apple Mac = GenAI Privé Audio">
                <meta itemprop="contentUrl" content="https://share.transistor.fm/e/96996be6">
                <iframe
                        width="100%"
                        height="180"
                        frameborder="0"
                        scrolling="no"
                        src="https://share.transistor.fm/e/96996be6"
                        title="GenAI + RAG + Apple Mac = GenAI Privé Audio"
                        loading="lazy"
                ></iframe>

                <p class="listen-note">
                    Explore more in the <a href="../../../fr/episodes/index.html">episode archive</a>.
                </p>
            </section>
        

        <section class="show-summary" aria-label="Episode summary" itemprop="description">
            <h2>Summary</h2>
            <p>Dans cette conversation, Matthew Pulsipher discute des subtilités de la mise en place d&#39;un système d&#39;IA générative privée, soulignant l&#39;importance de comprendre ses composants, y compris les modèles, les serveurs et les applications front-end. Il élabore sur l&#39;importance du contexte</p>


            
                <nav class="tags" aria-label="Tags">
                    
                        <a href="../../../fr/search.html?query=datamanagement"
                           itemprop="keywords">datamanagement</a>
                    
                        <a href="../../../fr/search.html?query=dataprivacy"
                           itemprop="keywords">dataprivacy</a>
                    
                        <a href="../../../fr/search.html?query=contextualai"
                           itemprop="keywords">contextualai</a>
                    
                        <a href="../../../fr/search.html?query=embeddingmodels"
                           itemprop="keywords">embeddingmodels</a>
                    
                        <a href="../../../fr/search.html?query=security"
                           itemprop="keywords">security</a>
                    
                        <a href="../../../fr/search.html?query=generativeai"
                           itemprop="keywords">generativeai</a>
                    
                        <a href="../../../fr/search.html?query=zerotrust"
                           itemprop="keywords">zerotrust</a>
                    
                        <a href="../../../fr/search.html?query=cybersecurity"
                           itemprop="keywords">cybersecurity</a>
                    
                        <a href="../../../fr/search.html?query=process"
                           itemprop="keywords">process</a>
                    
                        <a href="../../../fr/search.html?query=policy"
                           itemprop="keywords">policy</a>
                    
                </nav>
            

            
                <div class="guests" aria-label="Guests">
                    
                        <span itemprop="actor" itemscope itemtype="https://schema.org/Person">
              <a href="../../../fr/guests/matthew-pulsipher/index.html" itemprop="url">
                <span itemprop="name">Matthew Pulsipher</span>
              </a>
            </span>
                    
                        <span itemprop="actor" itemscope itemtype="https://schema.org/Person">
              <a href="../../../fr/guests/darren-w-pulsipher/index.html" itemprop="url">
                <span itemprop="name">Darren W Pulsipher</span>
              </a>
            </span>
                    
                </div>
            
        </section>

        <section class="show-notes" aria-label="Show notes">
            <p>L&#39;IA générative privée devient essentielle pour les organisations cherchant à exploiter l&#39;intelligence artificielle tout en gardant le contrôle de leurs données. Alors que les entreprises prennent de plus en plus conscience des dangers potentiels associés aux modèles d&#39;IA basés sur le cloud - notamment en termes de confidentialité des données - le développement d&#39;une solution d&#39;IA générative privée peut fournir une robuste alternative. Cet article de blog vous permettra de comprendre en profondeur les composants nécessaires à la mise en place d&#39;un système d&#39;IA générative privée, l&#39;importance du contexte et les avantages des modèles intégrés localement.</p>
<h2>Blocs de Construction d&#39;IA Générative Privée</h2>
<p>La mise en place d&#39;un système d&#39;IA génératif privé implique plusieurs éléments clés : le modèle de langue (LLM), un serveur pour l&#39;exécuter, et une application frontend pour faciliter les interactions des utilisateurs. Des modèles open-source populaires, comme Llama ou Mistral, servent de fondation à l&#39;IA, permettant des requêtes confidentielles sans envoyer de données sensibles sur internet. Les organisations peuvent protéger leurs informations propriétaires en maintenant le contrôle du serveur et des données.</p>
<p>Lors de la construction d&#39;un système d&#39;IA générative, on doit prendre en compte la génération augmentée par récupération (RAG), qui intègre le contexte dans les réponses de l&#39;IA. RAG utilise un modèle d&#39;incorporation, une technique qui transpose des données à haute dimension dans un espace de dimension inférieure, pour récupérer intelligemment des extraits de données pertinents pour améliorer les réponses en se basant sur le contexte. Cela garantit que le modèle génératif est capable et spécifiquement adapté au contexte dans lequel il opère.</p>
<p>Investir dans ces composants peut sembler effrayant, mais soyez assuré qu&#39;il existe des plateformes conviviales qui simplifient ces intégrations, favorisant une expérience d&#39;IA générative privée de haute qualité qui est à la fois sécurisée et efficace. Cette configuration centrée sur l&#39;utilisateur conduit finalement à des avantages profonds pour ceux qui recherchent des solutions IA personnalisées, vous donnant la confiance nécessaire pour explorer des solutions IA sur mesure pour votre organisation.</p>
<h2>L&#39;Importance du Contexte dans les Réponses de l&#39;IA</h2>
<p>Un facteur critique pour maximiser la performance de l&#39;IA générative privée est le contexte. Un modèle d&#39;IA à usage général peut fournir des réponses génériques lorsqu&#39;il est alimenté avec un contexte ou des données limités. Ce billet de blog vous éclairera sur l&#39;importance de veiller à ce que votre modèle linguistique soit suffisamment équipé pour accéder à des informations organisationnelles pertinentes, rendant ainsi vos réponses plus précises.</p>
<p>En utilisant les techniques de génération augmentée par la récupération (RAG), les entreprises peuvent permettre à leurs modèles d&#39;IA de répondre plus efficacement aux demandes en insérant des informations spécifiques au contexte. Cela pourrait être des données spécifiques au client, des informations sur le produit ou des tendances de l&#39;industrie. Cela minimise le risque de mauvaise interprétation et améliore la pertinence du contenu généré. Les organisations peuvent y parvenir en établissant des bases de données internes robustes classées par fonction, permettant ainsi une interrogation efficace à grande échelle. Cette approche dynamique de la récupération de contexte peut permettre de gagner du temps et fournir des informations plus exploitables pour les décideurs.</p>
<p>La personnalisation de leurs systèmes d&#39;IA générative privés avec un contexte adéquat est essentielle pour les organisations évoluant dans des secteurs uniques, tels que le droit, la finance ou la santé. Les documents confidentiels et le jargon spécifique façonnent souvent les réponses du secteur ; par conséquent, l&#39;intégration de modèles dans leur environnement local permet des interprétations nuancées adaptées à leurs demandes spécifiques.</p>
<h2>Sécurité renforcée et flexibilité avec les modèles d&#39;incorporation locaux</h2>
<p>Un avantage significatif de l&#39;IA générative privée est la sécurité accrue qu&#39;elle offre. En gardant les données localisées et en effectuant le traitement sur des serveurs internes, les organisations peuvent réduire considérablement les risques associés aux fuites de données, principalement lorsque les requêtes impliquent des informations sensibles. C&#39;est particulièrement important pour les entreprises des secteurs réglementés qui sont tenues de prioriser la confidentialité des données.</p>
<p>L&#39;utilisation de modèles d&#39;incorporation dans votre configuration privée permet des interactions personnalisées qui améliorent la précision des réponses. Les organisations peuvent gérer et affiner leurs incorporations, dictant les données qui subsistent dans les invites et, par conséquent, dans les résultats. Ce contrôle granulaire permet aux organisations de pivoter rapidement en réponse à l&#39;évolution des besoins commerciaux. Par exemple, les entreprises peuvent améliorer considérablement les performances de leur IA en ajustant la manière dont les extraits de documents sont traités ou en déterminant la taille et la pertinence du contexte incorporé.</p>
<p>De plus, les récentes avancées en matière de matériel signifient que les organisations peuvent exécuter ces systèmes d&#39;IA génératifs sophistiqués, complets avec des modèles d&#39;incrustation, sur du matériel informatique de base - se référant à du matériel disponible immédiatement et qui n&#39;est pas spécialisé pour les tâches d&#39;IA - ouvrant l&#39;accès à des technologies qui démocratisent l&#39;utilisation de l&#39;IA. Même sur des machines comme Mac Studios, les options d&#39;hébergement rendent les capacités puissantes de l&#39;IA accessibles sans engendrer des coûts exorbitants.</p>
<h2>Appel à l&#39;action: Adoptez l&#39;IA générative privée aujourd&#39;hui</h2>
<p>Alors que les organisations s&#39;aventurent dans le monde de l&#39;IA générative, la valeur d&#39;une configuration privée ne peut être surestimée. Elle permet une sécurité et une confidentialité accrues et des réponses sur mesure qui correspondent aux besoins spécifiques de l&#39;entreprise. Le moment est venu d&#39;explorer les solutions d&#39;IA générative privées, et le paysage est suffisamment adaptable pour suivre le rythme des besoins technologiques en constante évolution.</p>
<p>Prenez en compte les exigences uniques de votre organisation et explorez comment vous pouvez exploiter les systèmes d&#39;intelligence artificielle générative privée dans vos opérations. Impliquez-vous avec vos équipes internes pour identifier comment les perspectives contextuelles peuvent améliorer les processus de prise de décision, et évaluez les options pour assembler les composants systèmes nécessaires. Avec la structure et les outils appropriés en place, votre organisation sera bien placée pour exploiter tout le potentiel de l&#39;intelligence artificielle tout en atténuant les risques pour la sécurité des données.</p>
<p>Que vous compreniez la nécessité du contexte, maximisiez votre configuration privée ou reconnaissiez les avancées technologiques disponibles, c&#39;est le moment idéal pour plonger dans l&#39;avenir de l&#39;IA. Adoptez l&#39;innovation; vos données et votre productivité vous en remercieront!</p>

        </section>

        

    </article>
</main>

<!-- Structured Data -->
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "PodcastSeries",
  "@id": "https://www.embracingdigital.org/fr/episodes/index.html#series",
  "name": "Embracing Digital Transformation",
  "url": "https://www.embracingdigital.org/fr/episodes/index.html",
  "inLanguage": "fr",
  "description": "A podcast about the digital transformation of the world.",
  "publisher": {
    "@type": "Organization",
    "@id": "https://www.embracingdigital.org/#org",
    "name": "Embracing Digital Transformation",
    "url": "https://www.embracingdigital.org",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.embracingdigital.org/images/logo.png",
      "width": 512,
      "height": 512
    }
  }
}</script>
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "PodcastEpisode",
  "@id": "https://www.embracingdigital.org/fr/episodes/edt-235/index.html#episode",
  "url": "https://www.embracingdigital.org/fr/episodes/edt-235/index.html",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.embracingdigital.org/fr/episodes/edt-235/index.html"
  },
  "name": "GenAI + RAG + Apple Mac = GenAI Privé",
  "episodeNumber": 235,
  "datePublished": "2025-01-09",
  "inLanguage": "fr",
  "description": "Dans cette conversation, Matthew Pulsipher discute des subtilités de la mise en place d&#39;un système d&#39;IA générative privée, soulignant l&#39;importance de comprendre ses composants, y compris les modèles, les serveurs et les applications front-end. Il élabore sur l&#39;importance du contexte",
  "partOfSeries": {
    "@id": "https://www.embracingdigital.org/fr/episodes/index.html#series"
  },
  "author": {
    "@type": "Person",
    "name": "Dr. Darren Pulsipher"
  },
  "creator": {
    "@type": "Person",
    "name": "Dr. Darren Pulsipher"
  },
  "image": {
    "@type": "ImageObject",
    "url": "https://www.embracingdigital.org/fr/episodes/edt-235/thumbnail.jpg"
  },
  "associatedMedia": [
    {
      "@type": "VideoObject",
      "name": "GenAI + RAG + Apple Mac = GenAI Privé Video",
      "embedUrl": "https://www.youtube.com/embed/AEQzEETlyS4"
    },
    {
      "@type": "AudioObject",
      "name": "GenAI + RAG + Apple Mac = GenAI Privé Audio",
      "contentUrl": "https://share.transistor.fm/e/96996be6"
    }
  ],
  "actor": [
    {
      "@type": "Person",
      "name": "Matthew Pulsipher",
      "url": "https://www.embracingdigital.org/../../../fr/guests/matthew-pulsipher/index.html"
    },
    {
      "@type": "Person",
      "name": "Darren W Pulsipher",
      "url": "https://www.embracingdigital.org/../../../fr/guests/darren-w-pulsipher/index.html"
    }
  ]
}</script>

<footer id="footer">
    <div class="footer-content">
        <p>Droit d'auteur &copy; 2025 Paidar Productions LLC</p>
        <p>Tous droits réservés</p>
    </div>
</footer>
<script>
    // year
    (function(){ var y=document.getElementById('y'); if(y){ y.textContent = new Date().getFullYear(); } })();

    // Guard for pages without nav
    const toggle = document.querySelector('.menu-toggle');
    const nav    = document.querySelector('nav#primary-nav');
    if (nav) {
        // Mobile: toggle .menu-open on <body>
        toggle?.addEventListener('click', () => {
            const open = document.body.classList.toggle('menu-open');
            toggle.setAttribute('aria-expanded', String(open));
        });

        // Dropdowns: tap/click + keyboard
        document.querySelectorAll('li.dropdown > a').forEach(link => {
            const li = link.parentElement;
            const submenu = li.querySelector('.dropdown-menu');

            link.addEventListener('click', (e) => {
                if (!submenu) return;
                e.preventDefault();

                // close others
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    if (a !== link) {
                        a.setAttribute('aria-expanded', 'false');
                        a.parentElement.classList.remove('open');
                    }
                });

                const isOpen = li.classList.toggle('open');
                link.setAttribute('aria-expanded', String(isOpen));
            });

            link.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowDown') { e.preventDefault(); submenu?.querySelector('a')?.focus(); }
                if (e.key === 'Escape')    { li.classList.remove('open'); link.setAttribute('aria-expanded','false'); link.focus(); }
            });
        });

        // Close dropdowns on outside click
        document.addEventListener('click', (e) => {
            if (!e.target.closest('nav')) {
                document.querySelectorAll('li.dropdown.open > a').forEach(a => {
                    a.setAttribute('aria-expanded','false');
                    a.parentElement.classList.remove('open');
                });
            }
        });
    }
</script>

